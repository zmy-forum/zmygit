{"remainingRequest":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\TwoClassify\\TwoClassify.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\TwoClassify\\TwoClassify.vue","mtime":1659640128887},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\babel.config.js","mtime":1583070725118},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IE1vcmVOYXYgZnJvbSAnLi4vLi4vbWFpbi9jbGFzc2lmeS9OYXYvTW9yZU5hdi52dWUnOwppbXBvcnQgSGVhZFRvcCBmcm9tICdAL2NvbXBvbmVudHMvaGVhZGVyL0hlYWQnOwppbXBvcnQgbGlzdEl0ZW0gZnJvbSAnLi4vaG9tZS9saXN0aXRlbS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3R3b2NsYXNzaWZ5JywKICBjb21wb25lbnRzOiB7CiAgICBIZWFkVG9wOiBIZWFkVG9wLAogICAgTW9yZU5hdjogTW9yZU5hdiwKICAgIGxpc3RJdGVtOiBsaXN0SXRlbQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXRpY1BhdGg6ICdodHRwOi8vc3RhdGljcy56aHVpc2h1c2hlbnFpLmNvbScsCiAgICAgIGFjdGl2ZUtleTogMCwKICAgICAgYWN0aXZlOiAwLAogICAgICB0d29hY3RpdmU6IDAsCiAgICAgIG1zZzogWydob3QnLCAnbmV3JywgJ3JlcHVsYXRpb24nLCAnb3ZlcicsICdtb250aCddLAogICAgICBzaXRlczogW10sCiAgICAgIHNpdGU6ICcxJywKICAgICAgTGlzdHM6IFtdLAogICAgICBtYWpvcjogdGhpcy4kcm91dGUucXVlcnkubWFqb3IsCiAgICAgIGluZGV4OiAnJywKICAgICAgbWlub3I6ICcnLAogICAgICB0eXBlOiAnaG90JywKICAgICAgZ2VuZGVyOiB0aGlzLiRyb3V0ZS5xdWVyeS5nZW5kZXIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCcvYXBpL2Jvb2svYnktY2F0ZWdvcmllcz9nZW5kZXI9JyArIHRoaXMuZ2VuZGVyICsgJyZ0eXBlPScgKyB0aGlzLnR5cGUgKyAnJm1ham9yPScgKyB0aGlzLm1ham9yICsgJyZtaW5vcj0nICsgdGhpcy5taW5vciArICcmc3RhcnQ9MCZsaW1pdD0yMCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLkxpc3RzID0gcmVzLmRhdGEuYm9va3M7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2Uoa2V5KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5taW5vciA9IHRoaXMuc2l0ZXNba2V5XTsgLy8gY29uc29sZS5sb2coImFhYWFhYWFhYWEiLHRoaXMubWlub3IpCgogICAgICBheGlvcy5nZXQoJy9hcGkvYm9vay9ieS1jYXRlZ29yaWVzP2dlbmRlcj0nICsgdGhpcy5nZW5kZXIgKyAnJnR5cGU9JyArIHRoaXMudHlwZSArICcmbWFqb3I9JyArIHRoaXMubWFqb3IgKyAnJm1pbm9yPScgKyB0aGlzLm1pbm9yICsgJyZzdGFydD0wJmxpbWl0PTIwJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLkxpc3RzID0gcmVzLmRhdGEuYm9va3M7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvdHdvY2xhc3NpZnknLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBnZW5kZXI6IHRoaXMuZ2VuZGVyLAogICAgICAgICAgdHlwZTogdGhpcy50eXBlLAogICAgICAgICAgbWFqb3I6IHRoaXMubWFqb3IsCiAgICAgICAgICBtaW5vcjogdGhpcy5taW5vciwKICAgICAgICAgIHN0YXJ0OiAwLAogICAgICAgICAgbGltaXQ6IDUwCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0d29vbkNoYW5nZTogZnVuY3Rpb24gdHdvb25DaGFuZ2Uoa2V5KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy50eXBlID0gdGhpcy5tc2dba2V5XTsgLy8gY29uc29sZS5sb2coImFhYWFhYWFhYWEiLHRoaXMudHlwZSkKCiAgICAgIGF4aW9zLmdldCgnL2FwaS9ib29rL2J5LWNhdGVnb3JpZXM/Z2VuZGVyPScgKyB0aGlzLmdlbmRlciArICcmdHlwZT0nICsgdGhpcy50eXBlICsgJyZtYWpvcj0nICsgdGhpcy5tYWpvciArICcmbWlub3I9JyArIHRoaXMubWlub3IgKyAnJnN0YXJ0PTAmbGltaXQ9MjAnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuTGlzdHMgPSByZXMuZGF0YS5ib29rczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy90d29jbGFzc2lmeScsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGdlbmRlcjogdGhpcy5nZW5kZXIsCiAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsCiAgICAgICAgICBtYWpvcjogdGhpcy5tYWpvciwKICAgICAgICAgIG1pbm9yOiB0aGlzLm1pbm9yLAogICAgICAgICAgc3RhcnQ6IDAsCiAgICAgICAgICBsaW1pdDogNTAKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgnL2FwaS9jYXRzL2x2MicpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAoX3RoaXM0LmdlbmRlciA9PT0gJ21hbGUnKSBfdGhpczQuc2l0ZXMgPSByZXMuZGF0YS5tYWxlO2Vsc2UgaWYgKF90aGlzNC5nZW5kZXIgPT09ICdmZW1hbGUnKSBfdGhpczQuc2l0ZXMgPSByZXMuZGF0YS5mZW1hbGU7ZWxzZSBfdGhpczQuc2l0ZXMgPSByZXMuZGF0YS5wcmVzczsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXM0LnNpdGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKF90aGlzNC5zaXRlc1tpXS5tYWpvciA9PSBfdGhpczQubWFqb3IpIHsKICAgICAgICAgIHsKICAgICAgICAgICAgX3RoaXM0LmluZGV4ID0gaTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIHRoaXMuaW5kZXg9dGhpcy5zaXRlcy5pbmRleE9mKHRoaXMubWFqb3IpOwoKCiAgICAgIF90aGlzNC5zaXRlcyA9IF90aGlzNC5zaXRlc1tfdGhpczQuaW5kZXhdLm1pbnM7IC8vIGNvbnNvbGUubG9nKCLmlbDmja4iLHJlcy5kYXRhKQogICAgICAvLyBjb25zb2xlLmxvZygi5pWw5o2uaGhoaGhoIix0aGlzLmluZGV4KQogICAgICAvLyBjb25zb2xlLmxvZygid3d3d3d3Iix0aGlzLnNpdGVzKQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7CiAgICBheGlvcy5nZXQoJy9hcGkvYm9vay9ieS1jYXRlZ29yaWVzP2dlbmRlcj0nICsgdGhpcy5nZW5kZXIgKyAnJnR5cGU9JyArIHRoaXMudHlwZSArICcmbWFqb3I9JyArIHRoaXMubWFqb3IgKyAnJm1pbm9yPScgKyB0aGlzLm1pbm9yICsgJyZzdGFydD0wJmxpbWl0PTIwJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzNC5MaXN0cyA9IHJlcy5kYXRhLmJvb2tzOyAvLyBjb25zb2xlLmxvZygid3d3d3d3d3d3aWxvdmV15pWw5o2uIixyZXMuZGF0YSkKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5MaXN0cykKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"mappings":"AAoCA;AACA;AACA;AACA;AACA;EACAA,mBADA;EAEAC;IAAAC;IAAAC;IAAAC;EAAA,CAFA;EAGAC,IAHA,kBAGA;IACA;MACAC,8CADA;MAEAC,YAFA;MAGAC,SAHA;MAIAC,YAJA;MAKAC,kDALA;MAMAC,SANA;MAOAC,SAPA;MAQAC,SARA;MASAC,8BATA;MAUAC,SAVA;MAWAC,SAXA;MAYAC,WAZA;MAaAC;IAbA;EAeA,CAnBA;EAoBAC;IACAC,IADA,kBACA;MAAA;;MACAC;QACA;MACA,CAFA,EAEAC,KAFA,CAEA;QACAC;MACA,CAJA;IAKA,CAPA;IAQAC,QARA,oBAQAC,GARA,EAQA;MAAA;;MACA,6BADA,CAEA;;MACAJ;QACA;MACA,CAFA,EAEAC,KAFA,CAEA;QACAC;MACA,CAJA;MAKA;QAAAG;QAAAC;UAAAT;UAAAD;UAAAH;UAAAE;UAAAY;UAAAC;QAAA;MAAA;IACA,CAjBA;IAkBAC,WAlBA,uBAkBAL,GAlBA,EAkBA;MAAA;;MACA,0BADA,CAEA;;MACAJ;QACA;MACA,CAFA,EAEAC,KAFA,CAEA;QACAC;MACA,CAJA;MAKA;QAAAG;QAAAC;UAAAT;UAAAD;UAAAH;UAAAE;UAAAY;UAAAC;QAAA;MAAA;IACA;EA3BA,CApBA;EAiDAE,OAjDA,qBAiDA;IAAA;;IACAV;MACA,8BACA,6BADA,KAEA,gCACA,+BADA,KAGA;;MACA,8CACA;QACA,2CACA;UACA;YACA;YACA;UACA;QACA;MACA,CAhBA,CAiBA;;;MACA,+CAlBA,CAmBA;MACA;MACA;IACA,CAtBA,EAsBAC,KAtBA,CAsBA;MACAC;IACA,CAxBA;IAyBAF;MACA,8BADA,CAEA;MACA;IACA,CAJA,EAIAC,KAJA,CAIA;MACAC;IACA,CANA;EAOA;AAlFA","names":["name","components","HeadTop","MoreNav","listItem","data","staticPath","activeKey","active","twoactive","msg","sites","site","Lists","major","index","minor","type","gender","methods","init","axios","catch","console","onChange","key","path","query","start","limit","twoonChange","created"],"sourceRoot":"src/views/main/TwoClassify","sources":["TwoClassify.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <HeadTop :head-title=\"major\" go-back=\"true\"></HeadTop>\r\n    <van-tabs v-model=\"active\" @change=\"onChange\">\r\n    <van-tab v-for=\"(site,index) in sites\" :key=\"index\" :title=\"site\" >\r\n        <van-tabs v-model=\"twoactive\" @change=\"twoonChange\">\r\n        <van-tab title=\"热门\"></van-tab>\r\n        <van-tab title=\"新书\"></van-tab>\r\n        <van-tab title=\"好评\"></van-tab>\r\n        <van-tab title=\"完结\"></van-tab>\r\n        <van-tab title=\"VIP\"></van-tab>\r\n        </van-tabs>\r\n    </van-tab>\r\n    </van-tabs>\r\n    <listItem :Lists=\"Lists\"></listItem>\r\n    <!-- <div class=\"category-book-view\" id=\"list-view\">\r\n\t\t<ul class=\"category-book\">\r\n\t\t\t<li class=\"category-book-item\" v-for=\"book in Lists\">\r\n\t\t\t\t<router-link :to=\"{name:'bookinfo',params:{bookid:book._id}}\" class=\"fix\">\r\n\t\t\t\t<div class=\"category-book-cover\">\r\n\t\t\t\t\t<img :src=\"staticPath+book.cover\" :title=\"book.title\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"category-book-msg\">\r\n\t\t\t\t\t<h3 class=\"category-book-title\">{{book.title}}</h3>\r\n\t\t\t\t\t<p class=\"category-list-author\">{{book.author}}<span class=\"category-col-line\">|</span>{{book.majorCate}}</p>\r\n\t\t\t\t\t<p>{{book.shortIntro}}</p>\r\n\t\t\t\t\t<p class=\"category-book-star\">{{book.latelyFollower}}人在追<span class=\"category-col-line\">|</span>{{book.retentionRatio}}%留存</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t</router-link> \r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport MoreNav from '../../main/classify/Nav/MoreNav.vue'\r\nimport HeadTop from '@/components/header/Head'\r\nimport listItem from '../home/listitem.vue'\r\nexport default {\r\n    name:'twoclassify',\r\n    components:{HeadTop,MoreNav,listItem},\r\n    data(){\r\n        return {\r\n            staticPath:'http://statics.zhuishushenqi.com',\r\n            activeKey: 0,\r\n            active:0,\r\n            twoactive:0,\r\n            msg:['hot','new','repulation','over','month'],\r\n            sites:[],\r\n            site:'1',\r\n            Lists:[],\r\n            major:this.$route.query.major,\r\n            index:'',\r\n            minor:'',\r\n            type:'hot',\r\n            gender:this.$route.query.gender\r\n        }\r\n    },\r\n    methods:{\r\n        init(){\r\n            axios.get('/api/book/by-categories?gender='+this.gender+'&type='+this.type+'&major='+this.major+'&minor='+this.minor+'&start=0&limit=20').then((res)=>{\r\n            this.Lists=res.data.books;                    \r\n            }).catch((err)=>{\r\n            console.log(err);\r\n            })\r\n        },\r\n        onChange(key) {\r\n            this.minor=this.sites[key]\r\n            // console.log(\"aaaaaaaaaa\",this.minor)\r\n            axios.get('/api/book/by-categories?gender='+this.gender+'&type='+this.type+'&major='+this.major+'&minor='+this.minor+'&start=0&limit=20').then((res)=>{\r\n            this.Lists=res.data.books;                    \r\n            }).catch((err)=>{\r\n            console.log(err);\r\n            })\r\n            this.$router.push({path:'/twoclassify',query:{gender:this.gender,type:this.type,major:this.major,minor:this.minor,start:0,limit:50}})\r\n        },\r\n        twoonChange(key) {\r\n            this.type=this.msg[key]\r\n            // console.log(\"aaaaaaaaaa\",this.type)\r\n            axios.get('/api/book/by-categories?gender='+this.gender+'&type='+this.type+'&major='+this.major+'&minor='+this.minor+'&start=0&limit=20').then((res)=>{\r\n            this.Lists=res.data.books;                    \r\n            }).catch((err)=>{\r\n            console.log(err);\r\n            })\r\n            this.$router.push({path:'/twoclassify',query:{gender:this.gender,type:this.type,major:this.major,minor:this.minor,start:0,limit:50}})\r\n        },\r\n    },\r\n    created(){\r\n            axios.get('/api/cats/lv2').then((res)=>{\r\n            if(this.gender==='male')\r\n            this.sites=res.data.male;  \r\n            else if(this.gender==='female')   \r\n            this.sites=res.data.female\r\n            else\r\n            this.sites=res.data.press\r\n            for(let i=0;i<this.sites.length;i++)\r\n            {\r\n                if(this.sites[i].major==this.major)\r\n                {\r\n                    {\r\n                        this.index=i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            // this.index=this.sites.indexOf(this.major);\r\n             this.sites=this.sites[this.index].mins     \r\n            // console.log(\"数据\",res.data)\r\n            // console.log(\"数据hhhhhh\",this.index)\r\n            // console.log(\"wwwwww\",this.sites)\r\n            }).catch((err)=>{\r\n            console.log(err);\r\n            })\r\n            axios.get('/api/book/by-categories?gender='+this.gender+'&type='+this.type+'&major='+this.major+'&minor='+this.minor+'&start=0&limit=20').then((res)=>{\r\n            this.Lists=res.data.books;                    \r\n            // console.log(\"wwwwwwwwwiloveu数据\",res.data)\r\n            // console.log(this.Lists)\r\n            }).catch((err)=>{\r\n            console.log(err);\r\n            })\r\n    },\r\n    }\r\n</script>\r\n\r\n<style>\r\n.category-book-view{\r\n\t\toverflow-y:scroll;\r\n\t\theight: 100%;\r\n\t}\r\n\t.category-book-item>a{\r\n\t\twidth: 100%;\r\n\t\tpadding:10px 14px 0;\r\n\t\tcolor: #555;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.category-book-cover{\r\n\t\twidth: 86px;\r\n\t\theight: 113px;\r\n\t\tbackground-color: #555;\r\n\t\tfloat: left;\r\n\t\tborder-radius: 4px;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 5px 10px #555;\r\n\t}\r\n\t.category-book-cover>img{\r\n\t\twidth: inherit;\r\n\t\theight: inherit;\r\n\t}\r\n\t.category-book-msg{\r\n\t\tmargin-left: 100px;\r\n\t\theight: 118px;\r\n\t\tline-height: 28px;\r\n\t\tborder-bottom: 1px solid #ddd;\r\n\t}\r\n\t.category-book-msg>p{\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tcolor: rgba(0,0,0,0.4);\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.category-book-title{\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: normal;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t.category-list-author{\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t.category-col-line{\r\n\t\tmargin:0 5px;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.category-book-star{\r\n\t\tcolor: rgba(0,0,0,0.6);\r\n\t}\r\n</style>\r\n"]}]}