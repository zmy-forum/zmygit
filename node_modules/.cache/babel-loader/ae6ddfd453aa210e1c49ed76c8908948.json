{"remainingRequest":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\home\\search.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\home\\search.vue","mtime":1659436835095},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\babel.config.js","mtime":1583070725118},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy9ERUxML0Rlc2t0b3AvdnVlLWNsaTMgZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEhlYWRUb3AgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9oZWFkZXIvSGVhZC52dWUnOwppbXBvcnQgeyBUb2FzdCwgSW5kaWNhdG9yIH0gZnJvbSAnbWludC11aSc7CmltcG9ydCBsaXN0aXRlbSBmcm9tICcuL2xpc3RpdGVtLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAnbGlzdEl0ZW0nOiBsaXN0aXRlbSwKICAgIEhlYWRUb3A6IEhlYWRUb3AKICB9LAogIHByb3BzOiBbJ0xpc3RzJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmOwoKICAgIHJldHVybiBfcmVmID0gewogICAgICBsaXN0czogJycsCiAgICAgIG1ham9yOiAn5pCc57Si5Lmm57GNJywKICAgICAgbGVuZ3RoOiAwLAogICAgICB1dGlsOiAnaHR0cDovL3N0YXRpY3Muemh1aXNodXNoZW5xaS5jb20nLAogICAgICBrZXl3b3JkOiAnJwogICAgfSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJsaXN0cyIsIHt9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJob3R3b3JkcyIsIHt9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJiZ2NvbG9yIiwgW10pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgIm5vUmVzdWx0IiwgZmFsc2UpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgInNob3dIb3R3b3JkIiwgdHJ1ZSksIF9yZWY7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRTZWFyY2hIb3QoKTsKICB9LAogIC8vICB3YXRjaDp7CiAgLy8gICAgICdsZW5ndGgnOmZ1bmN0aW9uKHZhbCwgb2xkVmFsKQogIC8vICAgICB7CiAgLy8gICAgICAgICBpZih0aGlzLmxlbmd0aD09MCkKICAvLyAgICAgICAgIHsKICAvLyAgICAgICAgICAgICB0aGlzLm5vUmVzdWx0PXRydWU7CiAgLy8gICAgICAgICB9CiAgLy8gICAgICAgICBlbHNlewogIC8vICAgICAgICAgICAgIHRoaXMubm9SZXN1bHQ9ZmFsc2U7CiAgLy8gIAkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0LXZpZXcnKS5zY3JvbGxUb3A9IDA7CiAgLy8gICAgICAgICB9CiAgLy8gICAgIH0KICAvLyAJJyRzdG9yZS5zdGF0ZS5TZWFyY2hSZXN1bHQnOmZ1bmN0aW9uKCl7CiAgLy8gCQlpZih0aGlzLiRzdG9yZS5zdGF0ZS5TZWFyY2hSZXN1bHQudG90YWw9PTApewogIC8vIAkJCXRoaXMubm9SZXN1bHQ9dHJ1ZTsKICAvLyAJCX1lbHNlewogIC8vIAkJCXRoaXMubm9SZXN1bHQ9ZmFsc2U7CiAgLy8gCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc3QtdmlldycpLnNjcm9sbFRvcD0gMDsKICAvLyAJCQl0aGlzLmxpc3RzPXRoaXMuJHN0b3JlLnN0YXRlLlNlYXJjaFJlc3VsdC5ib29rczsKICAvLyAJCX0KICAvLyAJfSwKICAvL30sCiAgbWV0aG9kczogewogICAga2V5ZG93bnNlYXJjaDogZnVuY3Rpb24ga2V5ZG93bnNlYXJjaChlbCkgewogICAgICBpZiAoZWwua2V5Q29kZSA9PSAxMykgewogICAgICAgIHRoaXMuc2VhcmNoYm9vaygpOwogICAgICB9CiAgICB9LAogICAgc2VhcmNoYm9vazogZnVuY3Rpb24gc2VhcmNoYm9vaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIEluZGljYXRvci5vcGVuKCk7CgogICAgICBpZiAodGhpcy5rZXl3b3JkID09ICcnKSB7CiAgICAgICAgVG9hc3QoewogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWFs+mUruWtlycsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwogICAgICAgIEluZGljYXRvci5jbG9zZSgpOyAvLyAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGF4aW9zLmdldCgnL2FwaS9ib29rL2Z1enp5LXNlYXJjaD9xdWVyeT0nICsgdGhpcy5rZXl3b3JkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5saXN0cyA9IHJlcy5kYXRhLmJvb2tzOwogICAgICAgIF90aGlzLmxlbmd0aCA9IF90aGlzLmxpc3RzLmxlbmd0aDsKCiAgICAgICAgaWYgKF90aGlzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgX3RoaXMubm9SZXN1bHQgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5ub1Jlc3VsdCA9IGZhbHNlOwogICAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy5sZW5ndGgpCiAgICAgICAgLy8gY29uc29sZS5sb2coInNoZGRkeXl5eSIsdGhpcy5saXN0cykKICAgICAgICAvLyBjb25zb2xlLmxvZygic2hkZGQiLHJlcy5kYXRhKQoKCiAgICAgICAgX3RoaXMuc2hvd0hvdHdvcmQgPSBmYWxzZTsKICAgICAgICBJbmRpY2F0b3IuY2xvc2UoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0U2VhcmNoSG90OiBmdW5jdGlvbiBnZXRTZWFyY2hIb3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCcvYXBpL2Jvb2svc2VhcmNoLWhvdHdvcmRzJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmhvdHdvcmRzID0gcmVzLmRhdGEuc2VhcmNoSG90V29yZHMuc2xpY2UoMCwgMTApOwoKICAgICAgICBfdGhpczIucmFuZG9tY29sb3IoKTsKICAgICAgfSk7CiAgICB9LAogICAgcmFuZG9tY29sb3I6IGZ1bmN0aW9uIHJhbmRvbWNvbG9yKCkgewogICAgICB2YXIgY29sb3JzID0gWycjRkY2NjY2JywgJyMzM0NDOTknLCAnIzAwNjY5OScsICcjRkY5OTY2JywgJyMwMDY2Q0MnLCAnIzMzOTkzMycsICcjRkZDQzMzJywgJyMzMzY2OTknLCAnI0ZGOTkwMCcsICcjOTlDQzMzJywgJyMwMDk5Q0MnLCAnI0ZGMDAzMyddOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICAgICAgdmFyIG51bSA9IHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiBjb2xvcnMubGVuZ3RoIC0gMSk7CiAgICAgICAgdGhpcy5iZ2NvbG9yW2ldID0gewogICAgICAgICAgJ2JhY2tncm91bmQnOiBjb2xvcnNbbnVtXQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICB0YWdzOiBmdW5jdGlvbiB0YWdzKHdvcmQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBJbmRpY2F0b3Iub3BlbigpOwogICAgICBheGlvcy5nZXQoJy9hcGkvYm9vay9mdXp6eS1zZWFyY2g/JyArIHRoaXMua2V5d29yZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVzLmRhdGEuYm9va3MuZm9yRWFjaChmdW5jdGlvbiAoYm9vaykgewogICAgICAgICAgYm9vay5jb3ZlciA9IHV0aWwuc3RhdGljUGF0aCArIGJvb2suY292ZXI7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMzLnNob3dIb3R3b3JkID0gZmFsc2U7CiAgICAgICAgSW5kaWNhdG9yLmNsb3NlKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;AAgCA;AACA;AACA;AACA;AACA;EACAA;IACA,oBADA;IAEAC;EAFA,CADA;EAKAC,gBALA;EAMAC,IANA,kBAMA;IAAA;;IACA;MACAC,SADA;MAEAC,aAFA;MAGAC,SAHA;MAIAC,wCAJA;MAKAC;IALA,kCAMA,EANA,qCAOA,EAPA,oCAQA,EARA,qCASA,KATA,wCAUA,IAVA;EAYA,CAnBA;EAoBAC,OApBA,qBAoBA;IACA;EACA,CAtBA;EAuBA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC;IACAC,aADA,yBACAC,EADA,EACA;MACA;QACA;MACA;IACA,CALA;IAMAC,UANA,wBAMA;MAAA;;MACAC;;MACA;QACAC;UACAC,iBADA;UAEAC;QAFA;QAIAH,kBALA,CAMA;MACA;;MACAI;QACA;QACA;;QACA,wBACA;UACA;QACA,CAHA,MAIA;UACA;QACA,CATA,CAUA;QACA;QACA;;;QACA;QACAJ;MACA,CAfA;IAgBA,CAhCA;IAiCAK,YAjCA,0BAiCA;MAAA;;MACAD;QACA;;QACA;MACA,CAHA;IAIA,CAtCA;IAuCAE,WAvCA,yBAuCA;MACA;;MACA;QACA;QACA;UACA;QADA;MAGA;IACA,CA/CA;IAgDAC,IAhDA,gBAgDAC,IAhDA,EAgDA;MAAA;;MACAR;MACAI;QACAK;UACAC;QACA,CAFA;QAGA;QACAV;MACA,CANA;IAOA;EAzDA;AA7CA","names":["components","HeadTop","props","data","lists","major","length","util","keyword","created","methods","keydownsearch","el","searchbook","Indicator","Toast","message","duration","axios","getSearchHot","randomcolor","tags","word","res","book"],"sourceRoot":"src/views/main/home","sources":["search.vue"],"sourcesContent":["<template>\r\n\t<div class=\"search-contaier\">\r\n        <HeadTop :head-title=\"major\" go-back=\"true\"> </HeadTop>\r\n        <van-search\r\n        @keydown=\"keydownsearch\"\r\n        v-model=\"keyword\"\r\n        name=\"searchBook\"\r\n        placeholder=\"请输入书名/作者名\"\r\n        input-align=\"center\"\r\n        />\r\n        <!-- shape=\"round\"\r\n        background=\"#4fc08d\" -->\r\n    <!-- <mu-appbar style=\"width: 100%;height:50px\"  z-depth=\"0\" color=\"#fff\">\r\n      <mu-button icon  @click=\"searchbook\" slot=\"right\">\r\n        <mu-icon value=\"search\" color=\"black\"></mu-icon>\r\n      </mu-button>\r\n    </mu-appbar> -->\r\n\t\t<ul class=\"search-hotwords-container fix\" v-show=\"showHotword\">\r\n      <div style=\"margin: 10px 0px\">\r\n        <h4>热门搜索</h4>\r\n      </div>\r\n\t\t\t<li class=\"search-hotwords\" :style=\"bgcolor[index]\" v-for=\"(item,index) in hotwords\">\r\n\t\t\t\t<a  @click=\"tags(item.word)\" href=\"javascript:\">{{ item.word}}</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<div class=\"no-result\" v-show=\"noResult\">\r\n\t\t\t<p>搜索结果未找到</p>\r\n\t\t</div>\r\n\t\t<listItem :Lists=\"lists\"></listItem>\r\n\t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport axios from 'axios'\r\nimport HeadTop from '../../../components/header/Head.vue'\r\nimport {Toast,Indicator} from 'mint-ui'\r\nimport listitem from './listitem.vue'\r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\t'listItem':listitem,\r\n            HeadTop\r\n\t\t},\r\n        props:['Lists'],\r\n\t\tdata(){\r\n\t\t\treturn{\r\n            lists:'',\r\n            major:'搜索书籍',\r\n            length:0,\r\n            util:'http://statics.zhuishushenqi.com',\r\n            keyword:'',\r\n            lists:{},\r\n            hotwords:{},\r\n            bgcolor:[],\r\n            noResult:false,\r\n            showHotword:true\r\n            }\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getSearchHot()\r\n\t\t},\r\n\t\t//  watch:{\r\n        //     'length':function(val, oldVal)\r\n        //     {\r\n        //         if(this.length==0)\r\n        //         {\r\n        //             this.noResult=true;\r\n        //         }\r\n        //         else{\r\n        //             this.noResult=false;\r\n\t\t//  \t\t\tdocument.getElementById('list-view').scrollTop= 0;\r\n        //         }\r\n        //     }\r\n\t\t// \t'$store.state.SearchResult':function(){\r\n\t\t// \t\tif(this.$store.state.SearchResult.total==0){\r\n\t\t// \t\t\tthis.noResult=true;\r\n\t\t// \t\t}else{\r\n\t\t// \t\t\tthis.noResult=false;\r\n\t\t// \t\t\tdocument.getElementById('list-view').scrollTop= 0;\r\n\t\t// \t\t\tthis.lists=this.$store.state.SearchResult.books;\r\n\t\t// \t\t}\r\n\t\t// \t},\r\n\t\t //},\r\n\t\tmethods:{\r\n      keydownsearch(el){\r\n        if(el.keyCode == 13){\r\n          this.searchbook()\r\n        }\r\n      },\r\n      searchbook(){\r\n        Indicator.open()\r\n        if(this.keyword == ''){\r\n          Toast({\r\n            message:'请输入关键字',\r\n            duration:2000\r\n          })\r\n           Indicator.close()\r\n        //    return;\r\n        }\r\n        axios.get('/api/book/fuzzy-search?query='+this.keyword).then(res=>{\r\n        this.lists=res.data.books;\r\n        this.length=this.lists.length\r\n        if(this.length===0)\r\n        {\r\n            this.noResult=true;\r\n        }\r\n        else{\r\n            this.noResult=false;\r\n        }\r\n        // console.log(this.length)\r\n        // console.log(\"shdddyyyy\",this.lists)\r\n        // console.log(\"shddd\",res.data)\r\n          this.showHotword=false\r\n          Indicator.close()\r\n        })\r\n      },\r\n\t\t  getSearchHot(){\r\n        axios.get('/api/book/search-hotwords').then(res=>{\r\n          this.hotwords = res.data.searchHotWords.slice(0,10);\r\n          this.randomcolor()\r\n        })\r\n      },\r\n\t\t\trandomcolor(){\r\n\t\t\t\tlet colors=['#FF6666','#33CC99','#006699','#FF9966','#0066CC','#339933','#FFCC33','#336699','#FF9900','#99CC33','#0099CC','#FF0033']\r\n\t\t\t\tfor(let i=0;i<10;i++){\r\n\t\t\t\t\tlet num = parseInt(Math.random()*colors.length - 1)\r\n\t\t\t\t\tthis.bgcolor[i]={\r\n\t\t\t\t\t\t'background':colors[num]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttags(word){\r\n        Indicator.open()\r\n\t          axios.get('/api/book/fuzzy-search?'+this.keyword).then(res=>{\r\n\t              res.data.books.forEach(book=>{\r\n\t                book.cover = util.staticPath+book.cover;\r\n\t              })\r\n                this.showHotword=false\r\n              Indicator.close()\r\n\t            })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style type=\"text/css\">\r\n\t.search-contaier{\r\n\t\theight: 91.6vh;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n    padding-bottom: 25px;\r\n\t}\r\n\t.search-input-group{\r\n\t\tposition: absolute;\r\n\t\theight: 34px;\r\n\t\ttop: 3px;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\tpadding:0 45px 0 28px;\r\n\t\tfont-size: 0;\r\n\t}\r\n\t.search-input-text{\r\n\t\theight: 32px;\r\n\t\twidth: 100%;\r\n\t\toutline: none;\r\n\t\tpadding:5px 0 0 10px;\r\n\t\tfont-size: 16px;\r\n\t\tbackground-color:#FFF;\r\n\t\tborder-bottom:1px solid #65b1ff;\r\n\t}\r\n\t.search-input-text::-webkit-input-placeholder{\r\n\t\tcolor:black;\r\n\t}\r\n\t.search-input-text:-moz-placeholder{\r\n    color:black;\r\n\t}\r\n\t.search-input-text::-moz-placeholder{\r\n    color:black;\r\n  }\r\n\t.search-input-text:-ms-input-placeholder{\r\n    color:black;\r\n\t}\r\n\t.no-result{\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\ttext-align: center;\r\n\t\tfont-size:18px;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\t\tmargin:auto;\r\n\t}\r\n\t.search-hotwords-container{\r\n\t\tpadding: 10px 25px;\r\n\t}\r\n\t.search-hotwords-container>h3{\r\n\t\tfont-weight: normal;\r\n\t\tfont-size: 16px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.search-hotwords{\r\n\t\tmargin:0px 10px 10px 0;\r\n\t\tfloat: left;\r\n\t}\r\n\t.search-hotwords>a{\r\n\t\tpadding:5px 10px;\r\n\t\tborder-radius: 4px;\r\n\t\tcolor:black;\r\n\t}\r\n</style>"]}]}