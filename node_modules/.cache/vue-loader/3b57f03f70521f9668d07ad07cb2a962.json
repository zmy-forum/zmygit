{"remainingRequest":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\TwoClassify\\info-content.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\TwoClassify\\info-content.vue","mtime":1658979668891},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCmltcG9ydCB7IEluZGljYXRvciB9IGZyb20gJ21pbnQtdWknDQptb21lbnQubG9jYWxlKCd6aC1jbicpDQoJZXhwb3J0IGRlZmF1bHQgew0KICAgIGJlZm9yZVJvdXRlTGVhdmUodG8sZnJvbSxuZXh0KXsNCiAgICAgIGlmKHRvLm5hbWUgPT09ICdyZWFkZXInKSB7DQogICAgICB9DQogICAgfSwNCgkJZGF0YSgpew0KCQkJcmV0dXJuIHsNCgkJCQlib29rOltdLA0KCQkJCWlzZm9sbG93ZWQ6ZmFsc2UNCgkJCX0NCgkJfSwNCgkJY29tcHV0ZWQ6ew0KCQkJSW1ndXJsICgpew0KCQkJCWlmKCF0aGlzLmJvb2suY292ZXIgJiYgdHlwZW9mKHRoaXMuYm9vay5jb3ZlcikgPT09ICd1bmRlZmluZWQnKQ0KCQkJCQlyZXR1cm4NCgkJCQlyZXR1cm4gdXRpbC5zdGF0aWNQYXRoICsgdGhpcy5ib29rLmNvdmVyOw0KCQkJfSwNCgkJCVdvcmRDb3VudCAoKXsNCgkJCQlpZih0aGlzLmJvb2sud29yZENvdW50LTEwMDAwPjApew0KCQkJCQlyZXR1cm4gcGFyc2VJbnQodGhpcy5ib29rLndvcmRDb3VudC8xMDAwMCkrJ+S4hyc7DQoJCQkJfWVsc2V7DQoJCQkJCXJldHVybgl0aGlzLmJvb2sud29yZENvdW50Ow0KCQkJCX0NCgkJCX0sDQoJCQlsYXRlbHlGb2xsb3dlcigpew0KCQkJCWlmKHRoaXMuYm9vay5sYXRlbHlGb2xsb3dlci0xMDAwMD4wKXsNCgkJCQkJcmV0dXJuIHBhcnNlSW50KHRoaXMuYm9vay5sYXRlbHlGb2xsb3dlci8xMDAwMCkrJ+S4hyc7DQoJCQkJfWVsc2V7DQoJCQkJCXJldHVybgl0aGlzLmJvb2subGF0ZWx5Rm9sbG93ZXI7DQoJCQkJfQ0KCQkJfSwNCgkJCWRhdGFyZXNldCgpew0KCQkJCXJldHVybiBtb21lbnQodGhpcy5ib29rLnVwZGF0ZWQpLmZyb21Ob3coKTsNCgkJCX0NCgkJfSwNCgkJY3JlYXRlZCgpew0KCQkJdGhpcy5nZXRib29rSW5mbygpOw0KCQl9LA0KCQl3YXRjaDp7DQoJCQknJHJvdXRlLnBhcmFtcyc6J2dldGJvb2tJbmZvJywNCgkJfSwNCgkJbWV0aG9kczp7DQoJCQlxdWlja3JlYWQoKXsNCgkJCQlsZXQgbG9jYWxTaGVsZiA9IHV0aWwuZ2V0TG9jYWxEYXRhKCdteWZvbGxvd2Jvb2snKTsNCgkJCQlpZiAobG9jYWxTaGVsZlt0aGlzLmJvb2suX2lkXSkgew0KICAgICAgICAgIGxvY2FsU2hlbGZbdGhpcy5ib29rLl9pZF0ubGFzdENoYXB0ZXIgPSB0aGlzLmJvb2suY2hhcHRlcnNDb3VudCAtIDENCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICBsb2NhbFNoZWxmW3RoaXMuYm9vay5faWRdID0gew0KICAgICAgICAgICAgdGl0bGU6IHRoaXMuYm9vay50aXRsZSwNCiAgICAgICAgICAgIGNvdmVyOiB0aGlzLmJvb2suY292ZXIsDQogICAgICAgICAgICBzb3VyY2U6IHRoaXMuJHN0b3JlLnN0YXRlLlNvdXJjZUlkLA0KICAgICAgICAgICAgaXNUZW1wb3Jhcnk6IHRydWUsDQogICAgICAgICAgICBsYXN0Q2hhcHRlcjogdGhpcy5ib29rLmNoYXB0ZXJzQ291bnQgLSAxDQogICAgICAgICAgfTsNCiAgICAgICAgfQ0KCQkJCWlmKGxvY2FsU2hlbGZbdGhpcy5ib29rLl9pZF0uc291cmNlKXsNCgkJCQkJdGhpcy4kc3RvcmUuY29tbWl0KCdTZXRTb3VyY2VJZCcsbG9jYWxTaGVsZlt0aGlzLmJvb2suX2lkXS5zb3VyY2UpDQoJCQkJfQ0KCQkJCXV0aWwuc2V0TG9jYWxEYXRhKCdteWZvbGxvd2Jvb2snLGxvY2FsU2hlbGYpDQoJCQkJdGhpcy4kcm91dGVyLnB1c2goe25hbWU6J3JlYWRlcicscGFyYW1zOntib29raWQ6dGhpcy5ib29rLl9pZH19KTsNCgkJCX0sDQoJCQlpc0ZvbGxvdygpew0KCQkJCWxldCBsb2NhbFNoZWxmID0gdXRpbC5nZXRMb2NhbERhdGEoJ215Zm9sbG93Ym9vaycpOw0KCQkJCXRoaXMuaXNmb2xsb3dlZCA9ICEhKGxvY2FsU2hlbGYgJiYgbG9jYWxTaGVsZlt0aGlzLmJvb2suX2lkXSk7DQoJCQl9LA0KCQkJZm9sbG93QWN0aW9uKCl7DQoJCQkJbGV0IGxvY2FsU2hlbGYgPSB1dGlsLmdldExvY2FsRGF0YSgnbXlmb2xsb3dib29rJykgPyB1dGlsLmdldExvY2FsRGF0YSgnbXlmb2xsb3dib29rJykgOiB7fTsNCgkJCQlpZih0aGlzLmlzZm9sbG93ZWQpew0KCQkJCQlkZWxldGUgbG9jYWxTaGVsZlt0aGlzLmJvb2suX2lkXTsNCgkJCQkJdXRpbC5zZXRMb2NhbERhdGEoJ215Zm9sbG93Ym9vaycsbG9jYWxTaGVsZik7DQoJCQkJCXRoaXMuaXNmb2xsb3dlZCA9ICF0aGlzLmlzZm9sbG93ZWQ7DQoJCQkJfWVsc2V7DQoJCQkJCWxvY2FsU2hlbGZbdGhpcy5ib29rLl9pZF09ew0KCQkJCQkJdGl0bGU6dGhpcy5ib29rLnRpdGxlLA0KCQkJCQkJY292ZXI6dGhpcy5ib29rLmNvdmVyLA0KCQkJCQkJc291cmNlOnRoaXMuJHN0b3JlLnN0YXRlLlNvdXJjZUlkLA0KICAgICAgICAgICAgaXNUZW1wb3Jhcnk6IGZhbHNlLA0KCQkJCQl9Ow0KCQkJCQl1dGlsLnNldExvY2FsRGF0YSgnbXlmb2xsb3dib29rJyxsb2NhbFNoZWxmKTsNCgkJCQkJdGhpcy5pc2ZvbGxvd2VkID0gIXRoaXMuaXNmb2xsb3dlZDsNCgkJCQl9DQoJCQl9LA0KCQkJZ2V0Ym9va0luZm8oKXsNCgkJCQlJbmRpY2F0b3Iub3BlbigpDQoJCQkJIGF4aW9zLmdldCgnL2FwaS9ib29rLycrdGhpcy4kcm91dGUucGFyYW1zLmJvb2tpZCkudGhlbihyZXM9PnsNCgkJCQkJdGhpcy5ib29rPXJlcy5kYXRhOw0KCQkJCQl0aGlzLmlzRm9sbG93KCk7DQoJCQkJCXRoaXMuZ2V0Ym9va1NvdXJjZSgpOw0KCQkJCQl0aGlzLiRzdG9yZS5jb21taXQoJ1NldEJvb2tJbmZvJyxyZXMuZGF0YSkNCgkJCQkJSW5kaWNhdG9yLmNsb3NlKCkNCgkJCQl9KSxlcnI9PnsNCgkJCQkJY29uc29sZS5sb2coZXJyKQ0KCQkJCQlJbmRpY2F0b3IuY2xvc2UoKQ0KCQkJCX0NCgkJCX0sDQoJCQlnZXRib29rU291cmNlKCkgew0KICAgICAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PT0gImJvb2tpbmZvInx8dGhpcy4kcm91dGUubmFtZSA9PT0gInJlYWRlciIpIHsNCiAgICAgICAgIGF4aW9zLmdldCgnL2FwaS9hdG9jPycre3ZpZXc6ICdzdW1tYXJ5JywgYm9vazogdGhpcy4kcm91dGUucGFyYW1zLmJvb2tpZH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU2V0U291cmNlSWQnLCByZXMuZGF0YVswXS5faWQpDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfQ0KCQl9DQoJfQ0K"},{"version":3,"sources":["info-content.vue"],"names":[],"mappings":";AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"info-content.vue","sourceRoot":"src/views/main/TwoClassify","sourcesContent":["<template>\r\n<div>\r\n\t<div class=\"book-info-content\">\r\n\t\t<div class=\"book-info-cover\">\r\n\t\t\t<img :src=\"Imgurl\">\r\n\t\t</div>\r\n\t\t<div class=\"book-info-describle\">\r\n\t\t\t<h3 class=\"book-info-title\">{{book.title}}</h3>\r\n\t\t\t<p>作者：{{book.author}}</p>\r\n\t\t\t<p>字数：{{ WordCount }}</p>\r\n\t\t\t<p>收藏人数：{{latelyFollower}}</p>\r\n\t\t\t<p>最后更新：{{datareset}}</p>\r\n\t\t</div>\r\n\t</div>\r\n\t<ul class=\"btn-info-group\">\r\n\t\t<router-link :to=\"'/reader/'+book._id\" tag=\"li\">开始阅读</router-link>\r\n\t\t<li class=\"btn-info-bookshelf\" :class=\"{'btn-info-bookshelf-active':isfollowed}\" @click=\"followAction\"></li>\r\n\t</ul>\r\n\t<div class=\"info-longintro\">\r\n\t\t<p>{{book.longIntro}}</p>\r\n\t</div>\r\n\t<div class=\"info-last-chapter\">\r\n\t\t<p>最后更新:<a @click=\"quickread()\" class=\"last-update\" href=\"javascript:\" >\r\n\t\t\t{{book.lastChapter}}\r\n\t\t</a></p>\r\n\t</div>\r\n\t<div class=\"info-tags\">\r\n\t\t<span v-for='(tag,key) in book.tags' v-if='key<5'>{{ tag }}</span>\r\n\t</div>\r\n</div>\r\n\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport moment from 'moment'\r\nimport { Indicator } from 'mint-ui'\r\nmoment.locale('zh-cn')\r\n\texport default {\r\n    beforeRouteLeave(to,from,next){\r\n      if(to.name === 'reader') {\r\n      }\r\n    },\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tbook:[],\r\n\t\t\t\tisfollowed:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tImgurl (){\r\n\t\t\t\tif(!this.book.cover && typeof(this.book.cover) === 'undefined')\r\n\t\t\t\t\treturn\r\n\t\t\t\treturn util.staticPath + this.book.cover;\r\n\t\t\t},\r\n\t\t\tWordCount (){\r\n\t\t\t\tif(this.book.wordCount-10000>0){\r\n\t\t\t\t\treturn parseInt(this.book.wordCount/10000)+'万';\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn\tthis.book.wordCount;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlatelyFollower(){\r\n\t\t\t\tif(this.book.latelyFollower-10000>0){\r\n\t\t\t\t\treturn parseInt(this.book.latelyFollower/10000)+'万';\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn\tthis.book.latelyFollower;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdatareset(){\r\n\t\t\t\treturn moment(this.book.updated).fromNow();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getbookInfo();\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\t'$route.params':'getbookInfo',\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tquickread(){\r\n\t\t\t\tlet localShelf = util.getLocalData('myfollowbook');\r\n\t\t\t\tif (localShelf[this.book._id]) {\r\n          localShelf[this.book._id].lastChapter = this.book.chaptersCount - 1\r\n        }\r\n        else {\r\n          localShelf[this.book._id] = {\r\n            title: this.book.title,\r\n            cover: this.book.cover,\r\n            source: this.$store.state.SourceId,\r\n            isTemporary: true,\r\n            lastChapter: this.book.chaptersCount - 1\r\n          };\r\n        }\r\n\t\t\t\tif(localShelf[this.book._id].source){\r\n\t\t\t\t\tthis.$store.commit('SetSourceId',localShelf[this.book._id].source)\r\n\t\t\t\t}\r\n\t\t\t\tutil.setLocalData('myfollowbook',localShelf)\r\n\t\t\t\tthis.$router.push({name:'reader',params:{bookid:this.book._id}});\r\n\t\t\t},\r\n\t\t\tisFollow(){\r\n\t\t\t\tlet localShelf = util.getLocalData('myfollowbook');\r\n\t\t\t\tthis.isfollowed = !!(localShelf && localShelf[this.book._id]);\r\n\t\t\t},\r\n\t\t\tfollowAction(){\r\n\t\t\t\tlet localShelf = util.getLocalData('myfollowbook') ? util.getLocalData('myfollowbook') : {};\r\n\t\t\t\tif(this.isfollowed){\r\n\t\t\t\t\tdelete localShelf[this.book._id];\r\n\t\t\t\t\tutil.setLocalData('myfollowbook',localShelf);\r\n\t\t\t\t\tthis.isfollowed = !this.isfollowed;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlocalShelf[this.book._id]={\r\n\t\t\t\t\t\ttitle:this.book.title,\r\n\t\t\t\t\t\tcover:this.book.cover,\r\n\t\t\t\t\t\tsource:this.$store.state.SourceId,\r\n            isTemporary: false,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tutil.setLocalData('myfollowbook',localShelf);\r\n\t\t\t\t\tthis.isfollowed = !this.isfollowed;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetbookInfo(){\r\n\t\t\t\tIndicator.open()\r\n\t\t\t\t axios.get('/api/book/'+this.$route.params.bookid).then(res=>{\r\n\t\t\t\t\tthis.book=res.data;\r\n\t\t\t\t\tthis.isFollow();\r\n\t\t\t\t\tthis.getbookSource();\r\n\t\t\t\t\tthis.$store.commit('SetBookInfo',res.data)\r\n\t\t\t\t\tIndicator.close()\r\n\t\t\t\t}),err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\tIndicator.close()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetbookSource() {\r\n        if (this.$route.name === \"bookinfo\"||this.$route.name === \"reader\") {\r\n         axios.get('/api/atoc?'+{view: 'summary', book: this.$route.params.bookid}).then(res => {\r\n            this.$store.commit('SetSourceId', res.data[0]._id)\r\n          })\r\n        }\r\n      }\r\n\t\t}\r\n\t}\r\n</script>\r\n<style type=\"text/css\">\r\n\t.book-info-content{\r\n\t\tpadding: 30px 20px 30px 30px;\r\n\t\tdisplay: table;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.book-info-cover{\r\n\t\twidth:93px;\r\n\t\theight: 124px;\r\n\t\tmargin-right: 18px;\r\n\t\tfloat: left;\r\n\t\tborder:1px solid #f0f0f0;\r\n\t\tbox-shadow: 0 5px 10px #555;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\t.book-info-cover>img{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.book-info-describle{\r\n\t\tvertical-align: middle;\r\n\t\toverflow:hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t.book-info-title{\r\n\t\tfont-weight: normal;\r\n\t\tfont-size: 16px;\r\n\t\tmargin-bottom: 5px;\r\n\t}\r\n\t.book-info-describle p{\r\n\t\tfont-size: 14px;\r\n\t\toverflow:hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t.btn-info-group{\r\n\t\twidth: 100%;\r\n\t\tfont-size: 0;\r\n\t\tpadding: 0 10px 10px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.btn-info-group>li{\r\n\t\ttext-align: center;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 49%;\r\n\t\tbackground-color: #fff;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 2.8em;\r\n\t\tborder-radius: 4px;\r\n\t\tborder:solid 1px #ddd;\r\n\t}\r\n\t.btn-info-group>li:first-child{\r\n\t\tmargin-right: 2%;\r\n\t\tbackground-color: #409EFF;\r\n\t\tcolor:#efefef;\r\n\t}\r\n\t.btn-info-bookshelf-active::after{\r\n\t\tcontent:'\\53D6\\6D88\\6536\\85CF'!important;\r\n\t\tbackground-color: #409EFF!important;\r\n\t\tcolor: #efefef;\r\n\t\tdisplay: block;\r\n\t}\r\n\t.btn-info-bookshelf::after{\r\n\t\tcontent:'\\52A0\\5165\\6536\\85CF';\r\n\t\tdisplay: block;\r\n\t}\r\n\t.info-longintro>p{\r\n\t\tpadding: 10px 14px;\r\n\t\tline-height: 2em;\r\n\t}\r\n\t.info-longintro{\r\n\t\tborder-bottom: 1px solid #DDD;\r\n\t}\r\n\t.info-last-chapter{\r\n\t\tpadding:10px 14px;\r\n\t\tmargin-bottom: 10px;\r\n\t\tline-height: 28px;\r\n\t}\r\n\t.last-update{\r\n\t\ttext-overflow: ellipsis;\r\n\t\toverflow:hidden;\r\n\t\twhite-space: nowrap;\r\n\t\tcolor:#42b983;\r\n\t}\r\n\t.last-update:hover{\r\n\t\tcolor: #42b983;\r\n\t}\r\n\t.info-tags{\r\n\t\tpadding:10px 14px;\r\n\t\toverflow:hidden;\r\n\t\ttext-emphasis: ellipsis;\r\n\t\twhite-space:nowrap;\r\n\t}\r\n\t.info-tags>span{\r\n\t\tfont-size: 14px;\r\n\t\tpadding:5px 10px;\r\n\t\tborder-radius: 4px;\r\n\t\tborder:1px solid #ddd;\r\n\t\tbackground-color: #E6A23C;\r\n\t\tcolor: #F2F6FC;\r\n\t}\r\n\t.info-tags>span+span{\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t.info-tags>span:last-child{\r\n\t\tbackground-color: #53ac7d;\r\n\t}\r\n</style>\r\n"]}]}