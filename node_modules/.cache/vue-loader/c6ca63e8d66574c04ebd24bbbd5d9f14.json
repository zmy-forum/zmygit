{"remainingRequest":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\bookself\\bookself.vue?vue&type=style&index=0&id=a69d8fda&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\bookself\\bookself.vue","mtime":1659525230588},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1655715156000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgJy4uLy4uL2Fzc2V0cy9zdHlsZS9teS1taW50LnN0eWwnCi5teUJvb2tzCiAgcG9zaXRpb24gZml4ZWQKICB3aWR0aCAxMDAlCiAgaGVpZ2h0IDEwMCUKICB0b3AgMAogIGxlZnQgMAogIHJpZ2h0IDAKICBib3R0b20gMAogIGJhY2tncm91bmQgI2ZmZgogIG92ZXJmbG93LXkgc2Nyb2xsCiAgbWF4LXdpZHRoOiA3NTBweDsgLypubyovCiAgbWFyZ2luOiAwIGF1dG87CiAgLmJvb2staGVhZGVyCiAgICBoZWlnaHQgMTAwcHgKICAgIGxpbmUtaGVpZ2h0IDEwMHB4CiAgICBmb250LXNpemUgMjVweAogICAgYmFja2dyb3VuZCAjNDA5ZWZmCiAgICB3aWR0aCAxMDAlCiAgICB6LWluZGV4IDEwCiAgLmFkZEJvb2tzCiAgICBwb3NpdGlvbiBhYnNvbHV0ZQogICAgd2lkdGggMjAwcHgKICAgIGhlaWdodCA4MHB4CiAgICBsZWZ0IDUwJQogICAgdG9wIDYwJQogICAgei1pbmRleCAyMDAKICAgIGJhY2tncm91bmQgIzQwOWVmZgogICAgbWFyZ2luLWxlZnQgLTEwMHB4CiAgICBtYXJnaW4tdG9wIC04MHB4CiAgICBmb250LXNpemUgMjVweAogICAgYm9yZGVyLXJhZGl1cyAxNXB4CiAgICBidXR0b24KICAgICAgd2lkdGggMTAwJQogICAgICBoZWlnaHQgMTAwJQogIC5ib29rLWxpc3QKICAgIHBhZGRpbmcgMjBweAogICAgYm94LXNpemluZyBib3JkZXItYm94CiAgICBvdmVyZmxvdyBoaWRkZW4KICAgIC5ib29rLWl0ZW0KICAgICAgZmxvYXQgbGVmdAogICAgICB3aWR0aCAyNSUKICAgICAgb3ZlcmZsb3cgaGlkZGVuCiAgICAgIHBhZGRpbmctcmlnaHQgMTVweAogICAgICBib3gtc2l6aW5nIGJvcmRlci1ib3gKICAgICAgdGV4dC1hbGlnbiBjZW50ZXIKICAgICAgbWFyZ2luLWJvdHRvbSAyMHB4CiAgICAgIHBvc2l0aW9uIHJlbGF0aXZlCiAgICAgICY6bnRoLWNoaWxkKDRuKQogICAgICAgIHBhZGRpbmctcmlnaHQgMAogICAgICAuY292ZXIKICAgICAgICB3aWR0aCAxMDAlCiAgICAgICAgYmFja2dyb3VuZDogdXJsKCcuLi8uLi9hc3NldHMvaW1hZ2VzL2RlZmF1bHQuanBnJykgbm8tcmVwZWF0CiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbiA1MCUKICAgICAgICBiYWNrZ3JvdW5kLXNpemUgMTAwJQogICAgICAgIGltZwogICAgICAgICAgd2lkdGggMTAwJQogICAgICAgICAgaGVpZ2h0IDIwMHB4CiAgICAgIC5uYW1lCiAgICAgICAgd2lkdGggMTAwJQogICAgICAgIG1hcmdpbi10b3AgMTBweAogICAgICAgIGZvbnQtc2l6ZSAyNXB4CiAgICAgICAgd2hpdGUtc3BhY2Ugbm93cmFwCiAgICAgICAgb3ZlcmZsb3cgaGlkZGVuCiAgICAgICAgdGV4dC1vdmVyZmxvdyBlbGxpcHNpcwouYnRuCiAgbWFyZ2luLXJpZ2h0IDEwcHgKLmNoZWNrCiAgcG9zaXRpb24gYWJzb2x1dGUKICBsZWZ0IDAKICB0b3AgMAogIHdpZHRoIDEwMCU7CiAgaGVpZ2h0IDEwMCUKICB0ZXh0LWFsaWduIGxlZnQKLmRlbGV0ZQogIHBvc2l0aW9uIGFic29sdXRlCiAgd2lkdGggMTAwJQogIGhlaWdodCA4MHB4CiAgYm90dG9tIDAKICBsZWZ0IDAKICBkaXNwbGF5IGZsZXgKICAuZGVsZXRlQnRuCiAgICBmbGV4IDEKICAgIGhlaWdodCA4MHB4CiAgICBib3gtc2l6aW5nIGJvcmRlci1ib3gK"},{"version":3,"sources":["bookself.vue"],"names":[],"mappings":";AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bookself.vue","sourceRoot":"src/views/main/bookself","sourcesContent":["<template>\r\n  <div class=\"myBooks\">\r\n    <mt-header title=\"我的书架\" class=\"book-header\">\r\n      <router-link to=\"/home\" slot=\"left\">\r\n        <mt-button icon=\"back\">返回</mt-button>\r\n      </router-link>\r\n      <mt-button slot=\"right\" @click=\"showCheck\" class=\"btn\" ref=\"Btn\" v-show=\"books.length\">编辑</mt-button>\r\n    </mt-header>\r\n    <div class=\"addBooks\" v-show=\"books.length<8\">\r\n      <mt-button type=\"primary\" @click=\"goAdd\">去添加</mt-button>\r\n    </div>\r\n    <div class=\"book-list\">\r\n      <div class=\"book-item\" v-for=\"(book,index) in books\" @click=\"goReadBooks(book.id)\">\r\n        <mt-checklist :options=\"[option[index]]\" v-model=\"value\" ref=\"checklist\" style=\"display: none\" class=\"check\">\r\n        </mt-checklist>\r\n        <div class=\"cover\">\r\n          <img :src=\"_unEscape(book.cover)\">\r\n        </div>\r\n        <p class=\"name\">{{book.title}}</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"delete\" ref=\"delete\" style=\"opacity: 0\">\r\n      <mt-button type=\"primary\" class=\"deleteBtn\" ref=\"deleteBtn\" @click=\"deleteBooks\">删除({{value.length}})\r\n      </mt-button>\r\n      <mt-button type=\"default\" class=\"deleteBtn\" ref=\"qxBtn\" @click=\"hideCheck\">取消</mt-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\n  export default{\r\n    data(){\r\n      return {\r\n        books: [],\r\n        option: [],\r\n        value: [],\r\n        isShowCheck: false\r\n      }\r\n    },\r\n    created(){\r\n      this.getBooks();\r\n    },\r\n    methods: {\r\n      goAdd(){\r\n        this.$router.push({\r\n          path: '/categories'\r\n        })\r\n      },\r\n      getBooks(){\r\n        let bookIdArray = [];\r\n        let localShelf = JSON.parse(window.localStorage.getItem('book')) ? JSON.parse(window.localStorage.getItem('book')) : {};\r\n        for (let i in localShelf) {\r\n          localShelf[i].cover = this._unEscape(localShelf[i].cover)\r\n          this.books.push(localShelf[i])\r\n          bookIdArray.push(i)\r\n        }\r\n        this.option = bookIdArray;\r\n      },\r\n      _unEscape(str){\r\n        str = unescape(str).replace(\"/agent/\", \"\")\r\n        return str\r\n      },\r\n      showCheck(){\r\n        this.isShowCheck = true;\r\n        let check = this.$refs.checklist;\r\n        this.$refs.delete.style.opacity = 1;\r\n        for (let i = 0; i < check.length; i++) {\r\n          check[i].$el.style.display = 'block'\r\n        }\r\n      },\r\n      hideCheck(){\r\n        let check = this.$refs.checklist;\r\n        this.$refs.delete.style.opacity = 0;\r\n        for (let i = 0; i < check.length; i++) {\r\n          check[i].$el.style.display = 'none'\r\n        }\r\n        this.isShowCheck = false\r\n      },\r\n      deleteBooks(){\r\n        let arr = this.value;\r\n        let storage = window.localStorage;\r\n        let localShelf = JSON.parse(storage.getItem('book')) ? JSON.parse(storage.getItem('book')) : {};\r\n        arr.forEach((item, index) => {\r\n          delete localShelf[arr[index]]\r\n        });\r\n        storage.setItem('book', JSON.stringify(localShelf))\r\n        window.location.reload()\r\n      },\r\n      goReadBooks(id){\r\n        if (this.isShowCheck) {\r\n          return\r\n        }\r\n        this.$router.push({\r\n          path: `/readBook/${id}`\r\n        })\r\n      }\r\n    },\r\n  }\r\n</script>\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  @import '../../assets/style/my-mint.styl'\r\n  .myBooks\r\n    position fixed\r\n    width 100%\r\n    height 100%\r\n    top 0\r\n    left 0\r\n    right 0\r\n    bottom 0\r\n    background #fff\r\n    overflow-y scroll\r\n    max-width: 750px; /*no*/\r\n    margin: 0 auto;\r\n    .book-header\r\n      height 100px\r\n      line-height 100px\r\n      font-size 25px\r\n      background #409eff\r\n      width 100%\r\n      z-index 10\r\n    .addBooks\r\n      position absolute\r\n      width 200px\r\n      height 80px\r\n      left 50%\r\n      top 60%\r\n      z-index 200\r\n      background #409eff\r\n      margin-left -100px\r\n      margin-top -80px\r\n      font-size 25px\r\n      border-radius 15px\r\n      button\r\n        width 100%\r\n        height 100%\r\n    .book-list\r\n      padding 20px\r\n      box-sizing border-box\r\n      overflow hidden\r\n      .book-item\r\n        float left\r\n        width 25%\r\n        overflow hidden\r\n        padding-right 15px\r\n        box-sizing border-box\r\n        text-align center\r\n        margin-bottom 20px\r\n        position relative\r\n        &:nth-child(4n)\r\n          padding-right 0\r\n        .cover\r\n          width 100%\r\n          background: url('../../assets/images/default.jpg') no-repeat\r\n          background-position 50%\r\n          background-size 100%\r\n          img\r\n            width 100%\r\n            height 200px\r\n        .name\r\n          width 100%\r\n          margin-top 10px\r\n          font-size 25px\r\n          white-space nowrap\r\n          overflow hidden\r\n          text-overflow ellipsis\r\n  .btn\r\n    margin-right 10px\r\n  .check\r\n    position absolute\r\n    left 0\r\n    top 0\r\n    width 100%;\r\n    height 100%\r\n    text-align left\r\n  .delete\r\n    position absolute\r\n    width 100%\r\n    height 80px\r\n    bottom 0\r\n    left 0\r\n    display flex\r\n    .deleteBtn\r\n      flex 1\r\n      height 80px\r\n      box-sizing border-box\r\n</style>"]}]}