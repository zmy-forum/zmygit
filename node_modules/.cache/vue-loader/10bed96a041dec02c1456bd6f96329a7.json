{"remainingRequest":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\home\\search.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\home\\search.vue","mtime":1659691904798},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQppbXBvcnQgSGVhZFRvcCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2hlYWRlci9IZWFkLnZ1ZScNCmltcG9ydCB7VG9hc3QsSW5kaWNhdG9yfSBmcm9tICdtaW50LXVpJw0KaW1wb3J0IGxpc3RpdGVtIGZyb20gJy4vbGlzdGl0ZW0udnVlJw0KCWV4cG9ydCBkZWZhdWx0ew0KCQljb21wb25lbnRzOnsNCgkJCSdsaXN0SXRlbSc6bGlzdGl0ZW0sDQogICAgICAgICAgICBIZWFkVG9wDQoJCX0sDQoJCWRhdGEoKXsNCgkJCXJldHVybnsNCiAgICAgICAgICAgIGxpc3RzOicnLA0KCQkJZnVsbDpbXSwNCiAgICAgICAgICAgIG1ham9yOifmkJzntKLkuabnsY0nLA0KICAgICAgICAgICAgbGVuZ3RoOjAsDQogICAgICAgICAgICB1dGlsOidodHRwOi8vc3RhdGljcy56aHVpc2h1c2hlbnFpLmNvbScsDQogICAgICAgICAgICBrZXl3b3JkOicnLA0KICAgICAgICAgICAgbGlzdHM6e30sDQogICAgICAgICAgICBob3R3b3Jkczp7fSwNCiAgICAgICAgICAgIGJnY29sb3I6W10sDQogICAgICAgICAgICBub1Jlc3VsdDpmYWxzZSwNCiAgICAgICAgICAgIHNob3dIb3R3b3JkOnRydWUsDQoJCQlxdWVyeTonJywNCgkJCXRpYW5hOmZhbHNlDQogICAgICAgICAgICB9DQoJCX0sDQoJCXdhdGNoOnsNCgkJCWtleXdvcmQ6ZnVuY3Rpb24odmFsLG9sZFZhbCl7DQoJCQkJYXhpb3MuZ2V0KCcvYXBpL2Jvb2svYXV0by1jb21wbGV0ZT9xdWVyeT0nK3ZhbCkudGhlbigocmVzKT0+ew0KCQkJCXRoaXMudGlhbmE9dHJ1ZQ0KCQkJCXRoaXMuZnVsbD1yZXMuZGF0YS5rZXl3b3JkczsgDQoJCQkJLy8gY29uc29sZS5sb2coInRoaXMuZnVsbCIsdGhpcy5mdWxsKSAgICAgICAgICAgICAgICAgICAgDQoJCQkJfSkuY2F0Y2goKGVycik9PnsNCgkJCQljb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgICAgfSkNCgkJCX0NCgkJfSwNCgkJY3JlYXRlZCgpew0KCQkJdGhpcy5nZXRTZWFyY2hIb3QoKQ0KCQl9LA0KCQltZXRob2RzOnsNCgkJCWJ0bl91c2VyIChlKSB7DQoJCQkvLyBjb25zb2xlLmxvZyhlLnRhcmdldC5pbm5lckhUTUwpDQoJCQl0aGlzLmtleXdvcmQ9ZS50YXJnZXQuaW5uZXJIVE1MDQoJCQkvLyB0aGlzLnRpYW5hPWZhbHNlDQoJCX0sDQoJCQkvLyBteWNoYW5nZShrZXkpew0KCQkJLy8gCS8vIHRoaXMua2V5d29yZD10aGlzLmZ1bGxbMF0NCgkJCS8vIAkvLyBjb25zb2xlLmxvZygneXl5eScsdGhpcy5rZXl3b3JkKQ0KCQkJLy8gCS8vIGNvbnNvbGUubG9nKCd5eXl5Jyx0aGlzLmZ1bGwpDQoJCQkvLyAJLy8gY29uc29sZS5sb2coJ3l5eXknLGtleSkNCiAgICAgICAgICAgIC8vICAgICAvLyB2YXIgcmVzdWx0PWtleS50b0VsZW1lbnQuY2hpbGROb2Rlc1swXQ0KCQkJLy8gCS8vIHRoaXMua2V5d29yZCA9IFN0cmluZyhyZXN1bHQpDQoJCQkvLyAJdmFyIHJlc3VsdCA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm15Z29kIikNCgkJCS8vIAljb25zb2xlLmxvZyhyZXN1bHQpDQoJCQkvLyB9LOWtmOeWke+8n++8n++8n++8n++8n++8n++8n++8n++8n++8n++8n++8n++8n++8n++8n++8n++8n++8n+S4jeaHgg0KICAgICAga2V5ZG93bnNlYXJjaChlbCl7DQogICAgICAgIGlmKGVsLmtleUNvZGUgPT0gMTMpew0KICAgICAgICAgIHRoaXMuc2VhcmNoYm9vaygpDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBzZWFyY2hib29rKCl7DQogICAgICAgIEluZGljYXRvci5vcGVuKCkNCiAgICAgICAgaWYodGhpcy5rZXl3b3JkID09ICcnKXsNCiAgICAgICAgICBUb2FzdCh7DQogICAgICAgICAgICBtZXNzYWdlOifor7fovpPlhaXlhbPplK7lrZcnLA0KICAgICAgICAgICAgZHVyYXRpb246MjAwMA0KICAgICAgICAgIH0pDQogICAgICAgICAgIEluZGljYXRvci5jbG9zZSgpDQogICAgICAgIC8vICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBheGlvcy5nZXQoJy9hcGkvYm9vay9mdXp6eS1zZWFyY2g/cXVlcnk9Jyt0aGlzLmtleXdvcmQpLnRoZW4ocmVzPT57DQoJCQl0aGlzLnRpYW5hPWZhbHNlDQogICAgICAgIHRoaXMubGlzdHM9cmVzLmRhdGEuYm9va3M7DQogICAgICAgIHRoaXMubGVuZ3RoPXRoaXMubGlzdHMubGVuZ3RoDQogICAgICAgIGlmKHRoaXMubGVuZ3RoPT09MCkNCiAgICAgICAgew0KICAgICAgICAgICAgdGhpcy5ub1Jlc3VsdD10cnVlOw0KICAgICAgICB9DQogICAgICAgIGVsc2V7DQogICAgICAgICAgICB0aGlzLm5vUmVzdWx0PWZhbHNlOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGVuZ3RoKQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygic2hkZGR5eXl5Iix0aGlzLmxpc3RzKQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygic2hkZGQiLHJlcy5kYXRhKQ0KICAgICAgICAgIHRoaXMuc2hvd0hvdHdvcmQ9ZmFsc2UNCiAgICAgICAgICBJbmRpY2F0b3IuY2xvc2UoKQ0KICAgICAgICB9KQ0KICAgICAgfSwNCgkJICBnZXRTZWFyY2hIb3QoKXsNCiAgICAgICAgYXhpb3MuZ2V0KCcvYXBpL2Jvb2svc2VhcmNoLWhvdHdvcmRzJykudGhlbihyZXM9PnsNCiAgICAgICAgICB0aGlzLmhvdHdvcmRzID0gcmVzLmRhdGEuc2VhcmNoSG90V29yZHMuc2xpY2UoMCwxMCk7DQogICAgICAgICAgdGhpcy5yYW5kb21jb2xvcigpDQogICAgICAgIH0pDQogICAgICB9LA0KCQkJcmFuZG9tY29sb3IoKXsNCgkJCQlsZXQgY29sb3JzPVsnI0ZGNjY2NicsJyMzM0NDOTknLCcjMDA2Njk5JywnI0ZGOTk2NicsJyMwMDY2Q0MnLCcjMzM5OTMzJywnI0ZGQ0MzMycsJyMzMzY2OTknLCcjRkY5OTAwJywnIzk5Q0MzMycsJyMwMDk5Q0MnLCcjRkYwMDMzJ10NCgkJCQlmb3IobGV0IGk9MDtpPDEwO2krKyl7DQoJCQkJCWxldCBudW0gPSBwYXJzZUludChNYXRoLnJhbmRvbSgpKmNvbG9ycy5sZW5ndGggLSAxKQ0KCQkJCQl0aGlzLmJnY29sb3JbaV09ew0KCQkJCQkJJ2JhY2tncm91bmQnOmNvbG9yc1tudW1dDQoJCQkJCX0NCgkJCQl9DQoJCQl9LA0KCQkJdGFncyh3b3JkKXsNCiAgICAgICAgSW5kaWNhdG9yLm9wZW4oKQ0KCSAgICAgICAgICBheGlvcy5nZXQoJy9hcGkvYm9vay9mdXp6eS1zZWFyY2g/Jyt0aGlzLmtleXdvcmQpLnRoZW4ocmVzPT57DQoJICAgICAgICAgICAgICByZXMuZGF0YS5ib29rcy5mb3JFYWNoKGJvb2s9PnsNCgkgICAgICAgICAgICAgICAgYm9vay5jb3ZlciA9IHV0aWwuc3RhdGljUGF0aCtib29rLmNvdmVyOw0KCSAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dIb3R3b3JkPWZhbHNlDQogICAgICAgICAgICAgIEluZGljYXRvci5jbG9zZSgpDQoJICAgICAgICAgICAgfSkNCgkJCX0NCgkJfQ0KCX0NCg=="},{"version":3,"sources":["search.vue"],"names":[],"mappings":";AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search.vue","sourceRoot":"src/views/main/home","sourcesContent":["<template>\r\n\t<div >\r\n        <HeadTop :head-title=\"major\" go-back=\"true\"> </HeadTop>\r\n        <van-search\r\n        @keydown=\"keydownsearch\"\r\n        v-model=\"keyword\"\r\n        name=\"searchBook\"\r\n        placeholder=\"请输入书名/作者名\"\r\n        input-align=\"center\"\r\n        />\r\n\t<div class=\"div1\">\r\n\t<ul class=\"search-hotwords-container fix\" v-show=\"showHotword\">\r\n\t\t<div style=\"margin: 10px 0px\">\r\n\t\t\t<h4>热门搜索</h4>\r\n\t\t</div>\r\n\t\t<li class=\"search-hotwords\" :style=\"bgcolor[index]\" v-for=\"(item,index) in hotwords\">\r\n\t\t\t<a  @click=\"tags(item.word)\" href=\"javascript:\">{{ item.word}}</a>\r\n\t\t</li>\r\n\t</ul>\r\n\t</div>\r\n\t\t<!-- <div class=\"div2\"><Searchfull  :Lists=\"full\"></Searchfull></div> -->\r\n\t\t<div class=\"div2 jjw\" v-show=\"tiana\">\r\n    \t<ul >\r\n\t\t<li class=\"ssss\" v-for=\"(book,index) in full\" :key=\"index\" v-model=\"keyword\">\r\n\t\t<p id=\"mygod\" @click=\"btn_user($event)\">{{book}}</p>\r\n\t\t<!-- <p class=\"mygod\">{{index}}</p> -->\r\n\t\t</li>\r\n\t\t</ul>\r\n  \t\t</div>\r\n\t\t<div class=\"no-result\" v-show=\"noResult\">\r\n\t\t\t<p>搜索结果未找到</p>\r\n\t\t</div>\r\n\t\t<listItem :Lists=\"lists\"></listItem>\r\n\t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport axios from 'axios'\r\nimport HeadTop from '../../../components/header/Head.vue'\r\nimport {Toast,Indicator} from 'mint-ui'\r\nimport listitem from './listitem.vue'\r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\t'listItem':listitem,\r\n            HeadTop\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n            lists:'',\r\n\t\t\tfull:[],\r\n            major:'搜索书籍',\r\n            length:0,\r\n            util:'http://statics.zhuishushenqi.com',\r\n            keyword:'',\r\n            lists:{},\r\n            hotwords:{},\r\n            bgcolor:[],\r\n            noResult:false,\r\n            showHotword:true,\r\n\t\t\tquery:'',\r\n\t\t\ttiana:false\r\n            }\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tkeyword:function(val,oldVal){\r\n\t\t\t\taxios.get('/api/book/auto-complete?query='+val).then((res)=>{\r\n\t\t\t\tthis.tiana=true\r\n\t\t\t\tthis.full=res.data.keywords; \r\n\t\t\t\t// console.log(\"this.full\",this.full)                    \r\n\t\t\t\t}).catch((err)=>{\r\n\t\t\t\tconsole.log(err);\r\n            })\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getSearchHot()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tbtn_user (e) {\r\n\t\t\t// console.log(e.target.innerHTML)\r\n\t\t\tthis.keyword=e.target.innerHTML\r\n\t\t\t// this.tiana=false\r\n\t\t},\r\n\t\t\t// mychange(key){\r\n\t\t\t// \t// this.keyword=this.full[0]\r\n\t\t\t// \t// console.log('yyyy',this.keyword)\r\n\t\t\t// \t// console.log('yyyy',this.full)\r\n\t\t\t// \t// console.log('yyyy',key)\r\n            //     // var result=key.toElement.childNodes[0]\r\n\t\t\t// \t// this.keyword = String(result)\r\n\t\t\t// \tvar result =document.getElementById(\"mygod\")\r\n\t\t\t// \tconsole.log(result)\r\n\t\t\t// },存疑？？？？？？？？？？？？？？？？？？不懂\r\n      keydownsearch(el){\r\n        if(el.keyCode == 13){\r\n          this.searchbook()\r\n        }\r\n      },\r\n      searchbook(){\r\n        Indicator.open()\r\n        if(this.keyword == ''){\r\n          Toast({\r\n            message:'请输入关键字',\r\n            duration:2000\r\n          })\r\n           Indicator.close()\r\n        //    return;\r\n        }\r\n        axios.get('/api/book/fuzzy-search?query='+this.keyword).then(res=>{\r\n\t\t\tthis.tiana=false\r\n        this.lists=res.data.books;\r\n        this.length=this.lists.length\r\n        if(this.length===0)\r\n        {\r\n            this.noResult=true;\r\n        }\r\n        else{\r\n            this.noResult=false;\r\n        }\r\n        // console.log(this.length)\r\n        // console.log(\"shdddyyyy\",this.lists)\r\n        // console.log(\"shddd\",res.data)\r\n          this.showHotword=false\r\n          Indicator.close()\r\n        })\r\n      },\r\n\t\t  getSearchHot(){\r\n        axios.get('/api/book/search-hotwords').then(res=>{\r\n          this.hotwords = res.data.searchHotWords.slice(0,10);\r\n          this.randomcolor()\r\n        })\r\n      },\r\n\t\t\trandomcolor(){\r\n\t\t\t\tlet colors=['#FF6666','#33CC99','#006699','#FF9966','#0066CC','#339933','#FFCC33','#336699','#FF9900','#99CC33','#0099CC','#FF0033']\r\n\t\t\t\tfor(let i=0;i<10;i++){\r\n\t\t\t\t\tlet num = parseInt(Math.random()*colors.length - 1)\r\n\t\t\t\t\tthis.bgcolor[i]={\r\n\t\t\t\t\t\t'background':colors[num]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttags(word){\r\n        Indicator.open()\r\n\t          axios.get('/api/book/fuzzy-search?'+this.keyword).then(res=>{\r\n\t              res.data.books.forEach(book=>{\r\n\t                book.cover = util.staticPath+book.cover;\r\n\t              })\r\n                this.showHotword=false\r\n              Indicator.close()\r\n\t            })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style type=\"text/css\">\r\n\t.search-contaier{\r\n\t\theight: 91.6vh;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n    padding-bottom: 25px;\r\n\t}\r\n\t.search-input-group{\r\n\t\tposition: absolute;\r\n\t\theight: 34px;\r\n\t\ttop: 3px;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\tpadding:0 45px 0 28px;\r\n\t\tfont-size: 0;\r\n\t}\r\n\t.search-input-text{\r\n\t\theight: 32px;\r\n\t\twidth: 100%;\r\n\t\toutline: none;\r\n\t\tpadding:5px 0 0 10px;\r\n\t\tfont-size: 16px;\r\n\t\tbackground-color:#FFF;\r\n\t\tborder-bottom:1px solid #65b1ff;\r\n\t}\r\n\t.search-input-text::-webkit-input-placeholder{\r\n\t\tcolor:black;\r\n\t}\r\n\t.search-input-text:-moz-placeholder{\r\n    color:black;\r\n\t}\r\n\t.search-input-text::-moz-placeholder{\r\n    color:black;\r\n  }\r\n\t.search-input-text:-ms-input-placeholder{\r\n    color:black;\r\n\t}\r\n\t.no-result{\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\ttext-align: center;\r\n\t\tfont-size:18px;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\t\tmargin:auto;\r\n\t}\r\n\t.search-hotwords-container{\r\n\t\tpadding: 10px 25px;\r\n\t}\r\n\t.search-hotwords-container>h3{\r\n\t\tfont-weight: normal;\r\n\t\tfont-size: 16px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.search-hotwords{\r\n\t\tmargin:0px 10px 10px 0;\r\n\t\tfloat: left;\r\n\t}\r\n\t.search-hotwords>a{\r\n\t\tpadding:5px 10px;\r\n\t\tborder-radius: 4px;\r\n\t\tcolor:black;\r\n\t}\r\n\t#mygod{\r\n\tborder-style:  none none  dotted none ;\r\n\theight:30px;\r\n\tfont-size: 18px;\r\n}\r\n\t.div1{position: absolute;}\r\n\t.div2{margin-left:5%;position: absolute;width: 90%;background-color: #FFF;}\r\n</style>"]}]}