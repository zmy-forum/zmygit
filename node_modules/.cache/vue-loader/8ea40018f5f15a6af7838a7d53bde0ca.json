{"remainingRequest":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\TwoClassify\\info-content.vue?vue&type=style&index=0&id=f8ef1cb6&lang=css&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\TwoClassify\\info-content.vue","mtime":1658979668891},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1655715156000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5ib29rLWluZm8tY29udGVudHsKCXBhZGRpbmc6IDMwcHggMjBweCAzMHB4IDMwcHg7CglkaXNwbGF5OiB0YWJsZTsKCXdpZHRoOiAxMDAlOwp9Ci5ib29rLWluZm8tY292ZXJ7Cgl3aWR0aDo5M3B4OwoJaGVpZ2h0OiAxMjRweDsKCW1hcmdpbi1yaWdodDogMThweDsKCWZsb2F0OiBsZWZ0OwoJYm9yZGVyOjFweCBzb2xpZCAjZjBmMGYwOwoJYm94LXNoYWRvdzogMCA1cHggMTBweCAjNTU1OwoJYm9yZGVyLXJhZGl1czogNHB4Owp9Ci5ib29rLWluZm8tY292ZXI+aW1newoJd2lkdGg6IDEwMCU7CgloZWlnaHQ6IDEwMCU7Cn0KLmJvb2staW5mby1kZXNjcmlibGV7Cgl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwoJb3ZlcmZsb3c6aGlkZGVuOwoJdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7Cgl3aGl0ZS1zcGFjZTogbm93cmFwOwp9Ci5ib29rLWluZm8tdGl0bGV7Cglmb250LXdlaWdodDogbm9ybWFsOwoJZm9udC1zaXplOiAxNnB4OwoJbWFyZ2luLWJvdHRvbTogNXB4Owp9Ci5ib29rLWluZm8tZGVzY3JpYmxlIHB7Cglmb250LXNpemU6IDE0cHg7CglvdmVyZmxvdzpoaWRkZW47Cgl0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKCXdoaXRlLXNwYWNlOiBub3dyYXA7Cn0KLmJ0bi1pbmZvLWdyb3VwewoJd2lkdGg6IDEwMCU7Cglmb250LXNpemU6IDA7CglwYWRkaW5nOiAwIDEwcHggMTBweDsKCW1hcmdpbi1ib3R0b206IDEwcHg7Cn0KLmJ0bi1pbmZvLWdyb3VwPmxpewoJdGV4dC1hbGlnbjogY2VudGVyOwoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJd2lkdGg6IDQ5JTsKCWJhY2tncm91bmQtY29sb3I6ICNmZmY7Cglmb250LXNpemU6IDE0cHg7CglsaW5lLWhlaWdodDogMi44ZW07Cglib3JkZXItcmFkaXVzOiA0cHg7Cglib3JkZXI6c29saWQgMXB4ICNkZGQ7Cn0KLmJ0bi1pbmZvLWdyb3VwPmxpOmZpcnN0LWNoaWxkewoJbWFyZ2luLXJpZ2h0OiAyJTsKCWJhY2tncm91bmQtY29sb3I6ICM0MDlFRkY7Cgljb2xvcjojZWZlZmVmOwp9Ci5idG4taW5mby1ib29rc2hlbGYtYWN0aXZlOjphZnRlcnsKCWNvbnRlbnQ6J1w1M0Q2XDZEODhcNjUzNlw4NUNGJyFpbXBvcnRhbnQ7CgliYWNrZ3JvdW5kLWNvbG9yOiAjNDA5RUZGIWltcG9ydGFudDsKCWNvbG9yOiAjZWZlZmVmOwoJZGlzcGxheTogYmxvY2s7Cn0KLmJ0bi1pbmZvLWJvb2tzaGVsZjo6YWZ0ZXJ7Cgljb250ZW50OidcNTJBMFw1MTY1XDY1MzZcODVDRic7CglkaXNwbGF5OiBibG9jazsKfQouaW5mby1sb25naW50cm8+cHsKCXBhZGRpbmc6IDEwcHggMTRweDsKCWxpbmUtaGVpZ2h0OiAyZW07Cn0KLmluZm8tbG9uZ2ludHJvewoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNEREQ7Cn0KLmluZm8tbGFzdC1jaGFwdGVyewoJcGFkZGluZzoxMHB4IDE0cHg7CgltYXJnaW4tYm90dG9tOiAxMHB4OwoJbGluZS1oZWlnaHQ6IDI4cHg7Cn0KLmxhc3QtdXBkYXRlewoJdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CglvdmVyZmxvdzpoaWRkZW47Cgl3aGl0ZS1zcGFjZTogbm93cmFwOwoJY29sb3I6IzQyYjk4MzsKfQoubGFzdC11cGRhdGU6aG92ZXJ7Cgljb2xvcjogIzQyYjk4MzsKfQouaW5mby10YWdzewoJcGFkZGluZzoxMHB4IDE0cHg7CglvdmVyZmxvdzpoaWRkZW47Cgl0ZXh0LWVtcGhhc2lzOiBlbGxpcHNpczsKCXdoaXRlLXNwYWNlOm5vd3JhcDsKfQouaW5mby10YWdzPnNwYW57Cglmb250LXNpemU6IDE0cHg7CglwYWRkaW5nOjVweCAxMHB4OwoJYm9yZGVyLXJhZGl1czogNHB4OwoJYm9yZGVyOjFweCBzb2xpZCAjZGRkOwoJYmFja2dyb3VuZC1jb2xvcjogI0U2QTIzQzsKCWNvbG9yOiAjRjJGNkZDOwp9Ci5pbmZvLXRhZ3M+c3BhbitzcGFuewoJbWFyZ2luLWxlZnQ6IDEwcHg7Cn0KLmluZm8tdGFncz5zcGFuOmxhc3QtY2hpbGR7CgliYWNrZ3JvdW5kLWNvbG9yOiAjNTNhYzdkOwp9Cg=="},{"version":3,"sources":["info-content.vue"],"names":[],"mappings":";AA4PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"info-content.vue","sourceRoot":"src/views/main/TwoClassify","sourcesContent":["<template>\r\n<div>\r\n\t<div class=\"book-info-content\">\r\n\t\t<div class=\"book-info-cover\">\r\n\t\t\t<img :src=\"Imgurl\">\r\n\t\t</div>\r\n\t\t<div class=\"book-info-describle\">\r\n\t\t\t<h3 class=\"book-info-title\">{{book.title}}</h3>\r\n\t\t\t<p>作者：{{book.author}}</p>\r\n\t\t\t<p>字数：{{ WordCount }}</p>\r\n\t\t\t<p>收藏人数：{{latelyFollower}}</p>\r\n\t\t\t<p>最后更新：{{datareset}}</p>\r\n\t\t</div>\r\n\t</div>\r\n\t<ul class=\"btn-info-group\">\r\n\t\t<router-link :to=\"'/reader/'+book._id\" tag=\"li\">开始阅读</router-link>\r\n\t\t<li class=\"btn-info-bookshelf\" :class=\"{'btn-info-bookshelf-active':isfollowed}\" @click=\"followAction\"></li>\r\n\t</ul>\r\n\t<div class=\"info-longintro\">\r\n\t\t<p>{{book.longIntro}}</p>\r\n\t</div>\r\n\t<div class=\"info-last-chapter\">\r\n\t\t<p>最后更新:<a @click=\"quickread()\" class=\"last-update\" href=\"javascript:\" >\r\n\t\t\t{{book.lastChapter}}\r\n\t\t</a></p>\r\n\t</div>\r\n\t<div class=\"info-tags\">\r\n\t\t<span v-for='(tag,key) in book.tags' v-if='key<5'>{{ tag }}</span>\r\n\t</div>\r\n</div>\r\n\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport moment from 'moment'\r\nimport { Indicator } from 'mint-ui'\r\nmoment.locale('zh-cn')\r\n\texport default {\r\n    beforeRouteLeave(to,from,next){\r\n      if(to.name === 'reader') {\r\n      }\r\n    },\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tbook:[],\r\n\t\t\t\tisfollowed:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tImgurl (){\r\n\t\t\t\tif(!this.book.cover && typeof(this.book.cover) === 'undefined')\r\n\t\t\t\t\treturn\r\n\t\t\t\treturn util.staticPath + this.book.cover;\r\n\t\t\t},\r\n\t\t\tWordCount (){\r\n\t\t\t\tif(this.book.wordCount-10000>0){\r\n\t\t\t\t\treturn parseInt(this.book.wordCount/10000)+'万';\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn\tthis.book.wordCount;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlatelyFollower(){\r\n\t\t\t\tif(this.book.latelyFollower-10000>0){\r\n\t\t\t\t\treturn parseInt(this.book.latelyFollower/10000)+'万';\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn\tthis.book.latelyFollower;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdatareset(){\r\n\t\t\t\treturn moment(this.book.updated).fromNow();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getbookInfo();\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\t'$route.params':'getbookInfo',\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tquickread(){\r\n\t\t\t\tlet localShelf = util.getLocalData('myfollowbook');\r\n\t\t\t\tif (localShelf[this.book._id]) {\r\n          localShelf[this.book._id].lastChapter = this.book.chaptersCount - 1\r\n        }\r\n        else {\r\n          localShelf[this.book._id] = {\r\n            title: this.book.title,\r\n            cover: this.book.cover,\r\n            source: this.$store.state.SourceId,\r\n            isTemporary: true,\r\n            lastChapter: this.book.chaptersCount - 1\r\n          };\r\n        }\r\n\t\t\t\tif(localShelf[this.book._id].source){\r\n\t\t\t\t\tthis.$store.commit('SetSourceId',localShelf[this.book._id].source)\r\n\t\t\t\t}\r\n\t\t\t\tutil.setLocalData('myfollowbook',localShelf)\r\n\t\t\t\tthis.$router.push({name:'reader',params:{bookid:this.book._id}});\r\n\t\t\t},\r\n\t\t\tisFollow(){\r\n\t\t\t\tlet localShelf = util.getLocalData('myfollowbook');\r\n\t\t\t\tthis.isfollowed = !!(localShelf && localShelf[this.book._id]);\r\n\t\t\t},\r\n\t\t\tfollowAction(){\r\n\t\t\t\tlet localShelf = util.getLocalData('myfollowbook') ? util.getLocalData('myfollowbook') : {};\r\n\t\t\t\tif(this.isfollowed){\r\n\t\t\t\t\tdelete localShelf[this.book._id];\r\n\t\t\t\t\tutil.setLocalData('myfollowbook',localShelf);\r\n\t\t\t\t\tthis.isfollowed = !this.isfollowed;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlocalShelf[this.book._id]={\r\n\t\t\t\t\t\ttitle:this.book.title,\r\n\t\t\t\t\t\tcover:this.book.cover,\r\n\t\t\t\t\t\tsource:this.$store.state.SourceId,\r\n            isTemporary: false,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tutil.setLocalData('myfollowbook',localShelf);\r\n\t\t\t\t\tthis.isfollowed = !this.isfollowed;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetbookInfo(){\r\n\t\t\t\tIndicator.open()\r\n\t\t\t\t axios.get('/api/book/'+this.$route.params.bookid).then(res=>{\r\n\t\t\t\t\tthis.book=res.data;\r\n\t\t\t\t\tthis.isFollow();\r\n\t\t\t\t\tthis.getbookSource();\r\n\t\t\t\t\tthis.$store.commit('SetBookInfo',res.data)\r\n\t\t\t\t\tIndicator.close()\r\n\t\t\t\t}),err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\tIndicator.close()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetbookSource() {\r\n        if (this.$route.name === \"bookinfo\"||this.$route.name === \"reader\") {\r\n         axios.get('/api/atoc?'+{view: 'summary', book: this.$route.params.bookid}).then(res => {\r\n            this.$store.commit('SetSourceId', res.data[0]._id)\r\n          })\r\n        }\r\n      }\r\n\t\t}\r\n\t}\r\n</script>\r\n<style type=\"text/css\">\r\n\t.book-info-content{\r\n\t\tpadding: 30px 20px 30px 30px;\r\n\t\tdisplay: table;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.book-info-cover{\r\n\t\twidth:93px;\r\n\t\theight: 124px;\r\n\t\tmargin-right: 18px;\r\n\t\tfloat: left;\r\n\t\tborder:1px solid #f0f0f0;\r\n\t\tbox-shadow: 0 5px 10px #555;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\t.book-info-cover>img{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.book-info-describle{\r\n\t\tvertical-align: middle;\r\n\t\toverflow:hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t.book-info-title{\r\n\t\tfont-weight: normal;\r\n\t\tfont-size: 16px;\r\n\t\tmargin-bottom: 5px;\r\n\t}\r\n\t.book-info-describle p{\r\n\t\tfont-size: 14px;\r\n\t\toverflow:hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t.btn-info-group{\r\n\t\twidth: 100%;\r\n\t\tfont-size: 0;\r\n\t\tpadding: 0 10px 10px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.btn-info-group>li{\r\n\t\ttext-align: center;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 49%;\r\n\t\tbackground-color: #fff;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 2.8em;\r\n\t\tborder-radius: 4px;\r\n\t\tborder:solid 1px #ddd;\r\n\t}\r\n\t.btn-info-group>li:first-child{\r\n\t\tmargin-right: 2%;\r\n\t\tbackground-color: #409EFF;\r\n\t\tcolor:#efefef;\r\n\t}\r\n\t.btn-info-bookshelf-active::after{\r\n\t\tcontent:'\\53D6\\6D88\\6536\\85CF'!important;\r\n\t\tbackground-color: #409EFF!important;\r\n\t\tcolor: #efefef;\r\n\t\tdisplay: block;\r\n\t}\r\n\t.btn-info-bookshelf::after{\r\n\t\tcontent:'\\52A0\\5165\\6536\\85CF';\r\n\t\tdisplay: block;\r\n\t}\r\n\t.info-longintro>p{\r\n\t\tpadding: 10px 14px;\r\n\t\tline-height: 2em;\r\n\t}\r\n\t.info-longintro{\r\n\t\tborder-bottom: 1px solid #DDD;\r\n\t}\r\n\t.info-last-chapter{\r\n\t\tpadding:10px 14px;\r\n\t\tmargin-bottom: 10px;\r\n\t\tline-height: 28px;\r\n\t}\r\n\t.last-update{\r\n\t\ttext-overflow: ellipsis;\r\n\t\toverflow:hidden;\r\n\t\twhite-space: nowrap;\r\n\t\tcolor:#42b983;\r\n\t}\r\n\t.last-update:hover{\r\n\t\tcolor: #42b983;\r\n\t}\r\n\t.info-tags{\r\n\t\tpadding:10px 14px;\r\n\t\toverflow:hidden;\r\n\t\ttext-emphasis: ellipsis;\r\n\t\twhite-space:nowrap;\r\n\t}\r\n\t.info-tags>span{\r\n\t\tfont-size: 14px;\r\n\t\tpadding:5px 10px;\r\n\t\tborder-radius: 4px;\r\n\t\tborder:1px solid #ddd;\r\n\t\tbackground-color: #E6A23C;\r\n\t\tcolor: #F2F6FC;\r\n\t}\r\n\t.info-tags>span+span{\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t.info-tags>span:last-child{\r\n\t\tbackground-color: #53ac7d;\r\n\t}\r\n</style>\r\n"]}]}