{"remainingRequest":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\bookself\\bookself.vue?vue&type=style&index=0&id=a69d8fda&lang=css&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\src\\views\\main\\bookself\\bookself.vue","mtime":1659523869641},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1655715156000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgYm9keSBhewogICAgbWFyZ2luOjA7CiAgICBjb2xvcjogIzU1NTsKICB9CgkubXlmb2xsb3ctYm9vay1jb250YWluZXJ7CgkJcG9zaXRpb246IHJlbGF0aXZlOwoJCWhlaWdodDogOTEuNnZoOwoJCW92ZXJmbG93OiBoaWRkZW47CiAgICBwYWRkaW5nLWJvdHRvbTogMjVweDsKCX0KCS5teWZvbGxvdy1ib29rLXZpZXd7CgkJaGVpZ2h0OiA5Ny41JTsKCQlvdmVyZmxvdy15OiBzY3JvbGw7Cgl9CgkubXlmb2xsb3ctYm9vay1saXN0ewoJCWZvbnQtc2l6ZTogMDsKCX0KCS5teWZvbGxvdy1ib29rLWl0ZW17CgkJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJCXdpZHRoOiAzMy4zMyU7CgkJcGFkZGluZzogMTBweCAxNHB4OwoJfQoJLm15Zm9sbG93LWJvb2staXRlbT5hIGltZ3sKCQltYXJnaW46MCBhdXRvOwoJCXdpZHRoOiA4NnB4OwoJCWhlaWdodDogMTEzcHg7CgkJYm9yZGVyLXJhZGl1czogNHB4OwoJCWJveC1zaGFkb3c6IDAgNXB4IDEwcHggIzU1NTsKCX0KCS5teWZvbGxvdy1ib29rLWl0ZW0+YSBwewoJCW92ZXJmbG93OiBoaWRkZW47CgkJdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CgkJd2hpdGUtc3BhY2U6IG5vd3JhcDsKCQlmb250LXNpemU6IDE2cHg7CgkJY29sb3I6ICM1NTU7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCW1hcmdpbi10b3A6IDVweDsKCX0KCS5teWZvbGxvdy1ub2l0ZW17CgkJd2lkdGg6IDE1MHB4OwoJCWhlaWdodDogMTUwcHg7CgkJYm9yZGVyLXJhZGl1czogNTAlOwoJCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCQltYXJnaW46YXV0bzsKCQlsZWZ0OiAwOwoJCXRvcDowOwoJCXJpZ2h0OiAwOwoJCWJvdHRvbTogMDsKCQliYWNrZ3JvdW5kLWNvbG9yOiAjNTU1OwoJCWJhY2tncm91bmQ6IHVybChodHRwczovL2dzczIuYmRzdGF0aWMuY29tLy1mbzNkU2FnX3hJNGtoR2twb1dLMUhGNmhoeS9iYWlrZS9jMCUzRGJhaWtlODAlMkM1JTJDNSUyQzgwJTJDMjYvc2lnbj1iYzk4Y2FjZDQxZmJmYmVkYzg1NDNlMmQxOTk5OWM1My9iNzAwM2FmMzNhODdlOTUwZDMxZGE4OWUxYTM4NTM0M2ZiZjJiNDNlLmpwZykKCQluby1yZXBlYXQ7CgkJYmFja2dyb3VuZC1zaXplOiAxNTBweCAxNTBweDsKCQliYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7Cgl9CgkubXlmb2xsb3ctYm9vay1tc2d7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCW1hcmdpbi10b3A6IDE1dmg7Cgl9Cg=="},{"version":3,"sources":["bookself.vue"],"names":[],"mappings":";AAiJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bookself.vue","sourceRoot":"src/views/main/bookself","sourcesContent":["<template>\r\n\t<div class=\"myfollow-book-container\">\r\n\t\t<m-head :title=\"'我的书架'\" :center=\"true\"></m-head>\r\n\t\t<div class=\"myfollow-book-view\">\r\n\t\t\t<div @click=\"$router.push({path:'/myBooks'})\" v-show=\"nobook\" class=\"myfollow-noitem\">\r\n\t\t\t</div>\r\n\t\t\t<p class=\"myfollow-book-msg\" v-show=\"nobook\">书架空空如也，点击发现</p>\r\n\t\t\t<ul class=\"myfollow-book-list\">\r\n\t\t\t\t<li class=\"myfollow-book-item\" v-for=\"(book,key) in followbook\">\r\n\t\t\t\t\t<a @click=\"readbook(key)\" @touchstart=\"ontouchstart(key)\" @touchmove=\"ontouchmove\" @touchend=\"ontouchend\"><img v-lazy=\"book.cover\">\r\n\t\t\t\t\t\t<p>{{book.title}}</p></a>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport header from './footandhead/header'\r\nimport {MessageBox} from 'mint-ui'\r\nimport util from '../api/util'\r\nimport {getBookSources} from '../api/api'\r\nimport _ from 'lodash'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tnobook:true,\r\n\t\t\t\ttimer:null,\r\n\t\t\t\tfollowbook:{}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\t'm-head':header\r\n\t\t},\r\n\t\tcreated(){\r\n      document.getElementById(\"foot\").style.display=\"block\";\r\n\t\t\tthis.getfollowbook()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tontouchstart(id){\r\n\t\t\t\t\tthis.timer= setTimeout(()=>{\r\n\t\t\t\t\tMessageBox.confirm('确定要这么做？','取消收藏').then(action=>{\r\n\t\t\t\t\t\tlet localShelf = util.getLocalData('myfollowbook') ? util.getLocalData('myfollowbook'):{};\r\n\t\t\t\t\t\tdelete localShelf[id];\r\n\t\t\t\t\t\tutil.setLocalData('myfollowbook',localShelf);\r\n\t\t\t\t\t\tthis.getfollowbook();\r\n\t\t\t\t\t}).catch((err)=>{\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t})\r\n\t\t\t\t},1000)\r\n\t\t\t},\r\n\t\t\tontouchmove(){\r\n\t\t\t\tclearTimeout(this.timer);\r\n\t\t\t},\r\n\t\t\tontouchend(){\r\n\t\t\t\tclearTimeout(this.timer);\r\n\t\t\t},\r\n\t\t\tgetfollowbook(){\r\n\t\t\t\tlet localShelf = util.getLocalData('myfollowbook') ? util.getLocalData('myfollowbook'):{};\r\n\t\t\t\tif(!_.isEmpty(localShelf)){\r\n\t\t\t\t\t\tfor(let id in localShelf ){\r\n\t\t\t\t\t\tlocalShelf[id].cover =util.staticPath+localShelf[id].cover;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.followbook = localShelf;\r\n\t\t\t\t\tthis.nobook=false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.nobook=true;\r\n\t\t\t\t\tthis.followbook={};\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\treadbook(id){\r\n\t\t\t\tlet localShelf =util.getLocalData('myfollowbook')?util.getLocalData('myfollowbook'):{}\r\n\t\t\t\tif(!localShelf[id].source){\r\n\t\t\t\t\tgetBookSources({'view':'summary','book':id}).then(res=>{\r\n\t\t\t\t\t\tthis.$store.commit('SetSourceId',res.data[0]._id)\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$store.commit('SetSourceId',localShelf[id].source)\r\n\t\t\t\t}\r\n\t\t\t\tthis.$store.commit('SetBookInfo',localShelf[id])\r\n\t\t\t\tthis.$router.push({'name':'reader',params:{bookid:id}})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style type=\"text/css\">\r\n  body a{\r\n    margin:0;\r\n    color: #555;\r\n  }\r\n\t.myfollow-book-container{\r\n\t\tposition: relative;\r\n\t\theight: 91.6vh;\r\n\t\toverflow: hidden;\r\n    padding-bottom: 25px;\r\n\t}\r\n\t.myfollow-book-view{\r\n\t\theight: 97.5%;\r\n\t\toverflow-y: scroll;\r\n\t}\r\n\t.myfollow-book-list{\r\n\t\tfont-size: 0;\r\n\t}\r\n\t.myfollow-book-item{\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 33.33%;\r\n\t\tpadding: 10px 14px;\r\n\t}\r\n\t.myfollow-book-item>a img{\r\n\t\tmargin:0 auto;\r\n\t\twidth: 86px;\r\n\t\theight: 113px;\r\n\t\tborder-radius: 4px;\r\n\t\tbox-shadow: 0 5px 10px #555;\r\n\t}\r\n\t.myfollow-book-item>a p{\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #555;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\t.myfollow-noitem{\r\n\t\twidth: 150px;\r\n\t\theight: 150px;\r\n\t\tborder-radius: 50%;\r\n\t\tposition: absolute;\r\n\t\tmargin:auto;\r\n\t\tleft: 0;\r\n\t\ttop:0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: #555;\r\n\t\tbackground: url(https://gss2.bdstatic.com/-fo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=bc98cacd41fbfbedc8543e2d19999c53/b7003af33a87e950d31da89e1a385343fbf2b43e.jpg)\r\n\t\tno-repeat;\r\n\t\tbackground-size: 150px 150px;\r\n\t\tbackground-position: center;\r\n\t}\r\n\t.myfollow-book-msg{\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 15vh;\r\n\t}\r\n</style>"]}]}